<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Eco Puzzle Game | EcoLife</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  /* Hero & buttons */
  --green1:#2e7d32;
  --green2:#66bb6a;
  --green3:#81c784;
  /* Bin colors */
  --wet1:#66bb6a;
  --wet2:#43a047;
  --dry1:#42a5f5;
  --dry2:#1e88e5;
  --ewaste1:#ef5350;
  --ewaste2:#e53935;
  --bg:#f4fbf6;
}
*{box-sizing:border-box;font-family:Poppins,sans-serif;}
body{margin:0;background:var(--bg);}

/* HERO */
.hero{
  padding:60px 20px;
  text-align:center;
  background:linear-gradient(135deg,var(--green1),var(--green2),var(--green3));
  color:white;
  border-radius:0 0 40px 40px;
}
.hero h1{font-size:clamp(2.2rem,5vw,3.5rem);font-weight:700;}

/* CARD */
.card{
  max-width:850px;
  margin:40px auto;
  background:white;
  padding:clamp(20px,4vw,40px);
  border-radius:25px;
  box-shadow:0 20px 40px rgba(0,0,0,.12);
}

/* BUTTONS */
button{
  padding:14px 26px;
  border:none;
  border-radius:30px;
  font-size:1.05rem;
  cursor:pointer;
  background:linear-gradient(135deg,var(--green1),var(--green2));
  color:white;
}
button:hover{background:linear-gradient(135deg,var(--green2),var(--green1));}
.count-btn{margin:6px;background:linear-gradient(135deg,var(--green2),var(--green3));}
.count-btn.active{background:linear-gradient(135deg,var(--green1),var(--green2));}

/* SCREENS */
#gameScreen,#resultScreen{display:none;}

/* INFO BAR */
.info{display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between;font-weight:700;margin-bottom:20px;}

/* QUESTION ITEM */
#questionItem{
  font-size:1.6rem;font-weight:700;text-align:center;margin-bottom:25px;
  padding:15px;
  border-radius:16px;
  cursor:grab;user-select:none;
  color:#333;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

/* BINS */
.bins{display:flex;flex-wrap:wrap;gap:15px;justify-content:space-around;margin-bottom:20px;}
.drop-zone{
  flex:1;padding:25px;border-radius:20px;text-align:center;font-size:1.2rem;
  border:3px dashed #555;
  transition:.3s;
}
.drop-zone.correct{animation:correctAnim 0.5s;}
.drop-zone.wrong{animation:wrongAnim 0.5s;}
.drop-zone.wet{background:linear-gradient(135deg,var(--wet1),var(--wet2)); color:white;}
.drop-zone.dry{background:linear-gradient(135deg,var(--dry1),var(--dry2)); color:white;}
.drop-zone.ewaste{background:linear-gradient(135deg,var(--ewaste1),var(--ewaste2)); color:white;}

/* Animations */
@keyframes correctAnim {0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);}}
@keyframes wrongAnim {0%{transform:translateX(0);}25%{transform:translateX(-10px);}50%{transform:translateX(10px);}75%{transform:translateX(-10px);}100%{transform:translateX(0);}}

/* SCORE */
.score{font-size:clamp(2.2rem,5vw,3rem);color:var(--green1);text-align:center;margin-bottom:20px;}

/* MOBILE */
@media (max-width:600px){
#questionItem{font-size:1.3rem;}
button{width:100%;}
.bins{flex-direction:column;}
.drop-zone{margin-bottom:15px;}
}
</style>
</head>
<body>

<div class="hero">
  <h1>ğŸŒ¿ ECO PUZZLE GAME ğŸŒ±</h1>
  <p>Classify the waste item into the correct bin!</p>
</div>

<div class="card">

<!-- START -->
<div id="startScreen">
  <h2>ğŸ® How to Play</h2>
  <p>
    ğŸ§² Drag the item into the correct bin:<br>
    ğŸŸ¢ Wet, ğŸ”µ Dry, ğŸ”´ E-Waste<br>
    â­ +10 points per correct answer<br>
    â³ Next question appears automatically
  </p>

  <h3>ğŸ‘‰ Number of Questions</h3>
  <div>
    <button class="count-btn" onclick="selectCount(5,this)">5</button>
    <button class="count-btn" onclick="selectCount(10,this)">10</button>
    <button class="count-btn" onclick="selectCount(15,this)">15</button>
    <button class="count-btn" onclick="selectCount(20,this)">20</button>
  </div>
  <br>
  <button onclick="startGame()">Start Game â–¶</button>
</div>

<!-- GAME -->
<div id="gameScreen">
  <div class="info">
    <span>â³ <span id="time"></span></span>
    <span>â­ Score: <span id="score">0</span></span>
  </div>

  <div id="questionItem"></div>

  <div class="bins">
    <div class="drop-zone wet" data-type="wet">ğŸŸ¢ Wet Waste</div>
    <div class="drop-zone dry" data-type="dry">ğŸ”µ Dry Waste</div>
    <div class="drop-zone ewaste" data-type="ewaste">ğŸ”´ E-Waste</div>
  </div>
</div>

<!-- RESULT -->
<div id="resultScreen" style="text-align:center">
  <h2>ğŸ‰ Well Done!</h2>
  <div class="score" id="finalScore"></div>
  <p id="remark"></p>
  <br>
  <button onclick="location.reload()">Play Again ğŸ”„</button>
</div>

</div>

<script>
// Questions with emoji icons
const allQuestions=[
 {item:"Vegetable peels",bin:"wet",icon:"ğŸ¥¬"},
 {item:"Plastic bottle",bin:"dry",icon:"ğŸ¥¤"},
 {item:"Used batteries",bin:"ewaste",icon:"ğŸ”‹"},
 {item:"Tea leaves",bin:"wet",icon:"ğŸµ"},
 {item:"Paper sheet",bin:"dry",icon:"ğŸ“„"},
 {item:"Broken glass",bin:"ewaste",icon:"ğŸªŸ"},
 {item:"Fruit scraps",bin:"wet",icon:"ğŸ"},
 {item:"Cardboard box",bin:"dry",icon:"ğŸ“¦"},
 {item:"Old phone",bin:"ewaste",icon:"ğŸ“±"},
 {item:"Grass clippings",bin:"wet",icon:"ğŸŒ¿"},
 {item:"Plastic wrapper",bin:"dry",icon:"ğŸ«"},
 {item:"Light bulb",bin:"ewaste",icon:"ğŸ’¡"},
 {item:"Flower petals",bin:"wet",icon:"ğŸŒ¸"},
 {item:"Newspaper",bin:"dry",icon:"ğŸ“°"},
 {item:"Laptop",bin:"ewaste",icon:"ğŸ’»"},
 {item:"Leftover food",bin:"wet",icon:"ğŸ²"},
 {item:"Tin can",bin:"dry",icon:"ğŸ¥«"},
 {item:"Printer cartridge",bin:"ewaste",icon:"ğŸ–¨ï¸"},
 {item:"Juice carton",bin:"dry",icon:"ğŸ§ƒ"},
 {item:"Mobile charger",bin:"ewaste",icon:"ğŸ”Œ"},
 {item:"Coffee grounds",bin:"wet",icon:"â˜•"},
];

let questions=[],index=0,score=0,time=0,timer,count=5;
let draggedItem=null;

function selectCount(c,btn){
  count=c;
  document.querySelectorAll(".count-btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

function startGame(){
  questions=[...allQuestions].sort(()=>0.5-Math.random()).slice(0,count);
  time=count===5?120:count===10?180:count===15?240:300;
  startScreen.style.display="none";
  gameScreen.style.display="block";
  loadQuestion();
  startTimer();
}

function startTimer(){
  updateTime();
  timer=setInterval(()=>{
    time--;
    updateTime();
    if(time<=0) endGame();
  },1000);
}

function updateTime(){
  document.getElementById("time").textContent=`${Math.floor(time/60)}:${String(time%60).padStart(2,"0")}`;
}

function loadQuestion(){
  const q=questions[index];
  const questionDiv=document.getElementById("questionItem");
  questionDiv.textContent=""; // clear previous
  // Show icon + item
  const iconSpan=document.createElement("span");
  iconSpan.textContent=q.icon;
  questionDiv.appendChild(iconSpan);
  const textSpan=document.createElement("span");
  textSpan.textContent=q.item;
  questionDiv.appendChild(textSpan);

  questionDiv.draggable=true;
  questionDiv.ondragstart=()=>draggedItem=q.bin;

  document.querySelectorAll(".drop-zone").forEach(bin=>{
    bin.classList.remove("correct","wrong");
    bin.textContent=bin.dataset.type==="wet"?"ğŸŸ¢ Wet Waste":bin.dataset.type==="dry"?"ğŸ”µ Dry Waste":"ğŸ”´ E-Waste";
    bin.ondrop=null;
    bin.ondragover=e=>e.preventDefault();
    bin.ondrop=()=>{
      if(draggedItem===bin.dataset.type){
        bin.classList.add("correct");
        bin.textContent="âœ… Correct!";
        score+=10;
      } else{
        bin.classList.add("wrong");
        bin.textContent="âŒ Incorrect!";
        const correctBin=document.querySelector(`.drop-zone.${draggedItem}`);
        correctBin.classList.add("correct");
        correctBin.textContent="âœ… Correct!";
      }
      document.getElementById("score").textContent=score;
      questionDiv.draggable=false;

      setTimeout(()=>{
        document.querySelectorAll(".drop-zone").forEach(bin=>{
          bin.classList.remove("correct","wrong");
          bin.textContent=bin.dataset.type==="wet"?"ğŸŸ¢ Wet Waste":bin.dataset.type==="dry"?"ğŸ”µ Dry Waste":"ğŸ”´ E-Waste";
        });
        index++;
        index<questions.length?loadQuestion():endGame();
      },1200);
    };
  });
}

function endGame(){
  clearInterval(timer);
  gameScreen.style.display="none";
  resultScreen.style.display="block";
  finalScore.textContent=`â­ ${score}`;
  remark.textContent=
    score>=150?"ğŸŒŸ Eco Champion!" :
    score>=80?"ğŸ‘ Great Job!" :
    "ğŸŒ± Keep Learning!";
}
</script>

</body>
</html>
