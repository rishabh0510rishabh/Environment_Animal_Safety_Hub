<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoLife | Animal First Aid</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="/envirnoment-logo.png">
    <style>
        /* ===== GLOBAL ===== */
        * {margin:0;padding:0;box-sizing:border-box;}
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(to right,#f1f8e9,#d0f0c0);
            color: #1a1a2e;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            transition: background 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode {
            background: linear-gradient(to right,#0a1929,#1a1a2e);
            color: #e6e6e6;
        }
        
        .main-container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        section {
            padding: 3rem 1rem;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h2 {
            font-size: 2.5rem;
            background: linear-gradient(135deg,#4ade80,#22c55e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        p.subtitle {
            text-align: center;
            color: #333;
            margin-bottom: 3rem;
            font-size: 1.1rem;
            max-width: 600px;
        }

        body.dark-mode p.subtitle {
            color: #e6e6e6;
            opacity: 0.9;
        }

        /* ===== THEME TOGGLE ===== */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .theme-btn {
            background: #ffffff;
            border: 2px solid #2e7d32;
            border-radius: 30px;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 600;
            color: #2e7d32;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .theme-btn {
            background: #1f4068;
            color: #4ade80;
            border-color: #4ade80;
        }
        
        .theme-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .theme-btn i {
            font-size: 1.2rem;
        }

        /* ===== ANIMAL TYPE BUTTONS ===== */
        .animal-types {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
            width: 100%;
        }
        
        .animal-type-btn {
            padding: 0.6rem 1.2rem;
            border: 2px solid #2e7d32;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            background: transparent;
            color: #2e7d32;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .animal-type-btn {
            color: #4ade80;
            border-color: #4ade80;
        }
        
        .animal-type-btn.active, .animal-type-btn:hover {
            background: linear-gradient(135deg,#2e7d32,#1b5e20);
            color: #fff;
            border-color: #2e7d32;
            box-shadow: 0 5px 20px rgba(46,125,50,0.3);
        }
        
        body.dark-mode .animal-type-btn.active,
        body.dark-mode .animal-type-btn:hover {
            background: linear-gradient(135deg,#4ade80,#22c55e);
            color: #1a1a2e;
            border-color: #4ade80;
        }

        /* ===== FIRST AID GRID ===== */
        .first-aid-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            width: 100%;
        }
        
        .aid-card {
            background: #fff;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }
        
        body.dark-mode .aid-card {
            background: #1f4068;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .aid-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
        }
        
        .aid-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #2e7d32;
        }
        
        body.dark-mode .aid-icon {
            color: #4ade80;
        }
        
        .aid-card h4 {
            margin-bottom: 0.5rem;
            color: #1a1a2e;
        }
        
        body.dark-mode .aid-card h4 {
            color: #e6e6e6;
        }
        
        .aid-card p {
            font-size: 0.9rem;
            color: #555;
            line-height: 1.4;
        }
        
        body.dark-mode .aid-card p {
            color: #e6e6e6;
            opacity: 0.8;
        }

        /* ===== NEW CENTERED SYMPTOM ASSESSMENT SECTION ===== */
        .assessment-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 2rem 1rem;
        }
        
        .assessment-section {
            background: linear-gradient(135deg, #ffffff, #f8fff8);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        body.dark-mode .assessment-section {
            background: linear-gradient(135deg, #1b1b2f, #162447);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        /* Center everything inside assessment section */
        .assessment-section > * {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .assessment-header {
            text-align: center;
            margin-bottom: 2rem;
            width: 100%;
        }
        
        .assessment-header h3 {
            font-size: 2rem;
            color: #1a5e20;
            margin-bottom: 0.5rem;
        }
        
        body.dark-mode .assessment-header h3 {
            color: #4ade80;
        }
        
        .assessment-header p {
            color: #555;
            font-size: 1rem;
        }
        
        body.dark-mode .assessment-header p {
            color: #e6e6e6;
            opacity: 0.8;
        }
        
        /* Centered Symptom Checklist */
        .symptom-checklist {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
            width: 100%;
            justify-items: center;
        }
        
        .symptom-item {
            background: #f8fff8;
            border: 2px solid #c8e6c9;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            width: 100%;
            max-width: 220px;
            justify-content: flex-start;
        }
        
        body.dark-mode .symptom-item {
            background: #2d3748;
            border-color: #4ade80;
        }
        
        .symptom-item:hover {
            background: #e8f5e9;
            transform: translateY(-2px);
        }
        
        body.dark-mode .symptom-item:hover {
            background: #4ade80;
        }
        
        .symptom-item.selected {
            background: #c8e6c9;
            border-color: #2e7d32;
        }
        
        body.dark-mode .symptom-item.selected {
            background: #4ade80;
            border-color: #4ade80;
        }
        
        .symptom-item input {
            width: 18px;
            height: 18px;
            accent-color: #2e7d32;
        }
        
        .symptom-item label {
            cursor: pointer;
            font-weight: 500;
            flex: 1;
            color: #333;
        }
        
        body.dark-mode .symptom-item label {
            color: #e6e6e6;
        }
        
        body.dark-mode .symptom-item.selected label {
            color: #1a1a2e;
            font-weight: 600;
        }
        
        /* Centered Emergency Level Indicator */
        .emergency-level {
            background: #fff;
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
            display: none;
            border: 3px solid transparent;
            animation: pulse 2s infinite;
            width: 100%;
            max-width: 600px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .emergency-level {
            background: #1f4068;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .emergency-level.show {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .emergency-level.critical {
            border-color: #ff4444;
            background: linear-gradient(135deg, #fff5f5, #ffebee);
        }
        
        body.dark-mode .emergency-level.critical {
            background: linear-gradient(135deg, #450a0a, #7f1d1d);
        }
        
        .emergency-level.urgent {
            border-color: #ffaa00;
            background: linear-gradient(135deg, #fff9e6, #fff3cd);
        }
        
        body.dark-mode .emergency-level.urgent {
            background: linear-gradient(135deg, #422006, #854d0e);
        }
        
        .emergency-level.monitor {
            border-color: #00c853;
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
        }
        
        body.dark-mode .emergency-level.monitor {
            background: linear-gradient(135deg, #14532d, #166534);
        }
        
        .level-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .level-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .level-title {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .level-title.critical { color: #ff4444; }
        .level-title.urgent { color: #ffaa00; }
        .level-title.monitor { color: #00c853; }
        
        /* Centered Action Steps */
        .action-steps {
            background: #fff;
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
            display: none;
            width: 100%;
            max-width: 600px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .action-steps {
            background: #1f4068;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .action-steps.show {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .action-steps h4 {
            color: #1a5e20;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        body.dark-mode .action-steps h4 {
            color: #4ade80;
        }
        
        .step {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: #f8fff8;
            border-radius: 10px;
            border-left: 4px solid #2e7d32;
            text-align: left;
        }
        
        body.dark-mode .step {
            background: #2d3748;
            border-left-color: #4ade80;
        }
        
        .step-number {
            background: #2e7d32;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        body.dark-mode .step-number {
            background: #4ade80;
            color: #1a1a2e;
        }
        
        .step div:last-child {
            color: #333;
        }
        
        body.dark-mode .step div:last-child {
            color: #e6e6e6;
        }
        
        /* Centered Vet Guidance */
        .vet-guidance {
            background: #fff;
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
            display: none;
            border: 2px solid #ff4444;
            animation: glow 2s infinite;
            width: 100%;
            max-width: 600px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .vet-guidance {
            background: #1f4068;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .vet-guidance.show {
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .vet-guidance h4 {
            color: #ff4444;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        
        .vet-guidance p {
            color: #333;
        }
        
        body.dark-mode .vet-guidance p {
            color: #e6e6e6;
        }
        
        /* Centered Assessment Buttons */
        .assessment-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            flex-wrap: wrap;
            width: 100%;
        }
        
        .assessment-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .assessment-btn.primary {
            background: linear-gradient(135deg, #2e7d32, #1b5e20);
            color: white;
        }
        
        .assessment-btn.secondary {
            background: #f0f0f0;
            color: #333;
            border: 1px solid #ddd;
        }
        
        body.dark-mode .assessment-btn.secondary {
            background: #2d3748;
            color: #e6e6e6;
            border: 1px solid #4ade80;
        }
        
        body.dark-mode .assessment-btn.secondary:hover {
            background: #4ade80;
            color: #1a1a2e;
        }
        
        .assessment-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        /* Animations */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 68, 68, 0); }
        }
        
        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(255, 68, 68, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 68, 68, 0.8); }
            100% { box-shadow: 0 0 5px rgba(255, 68, 68, 0.5); }
        }
        
        /* Footer */
        .footer-note {
            text-align: center;
            padding: 2rem;
            color: #333;
            opacity: 0.7;
            font-size: 0.9rem;
            width: 100%;
            max-width: 800px;
            margin-top: 2rem;
            border-top: 1px solid #c8e6c9;
        }
        
        body.dark-mode .footer-note {
            color: #e6e6e6;
            border-top-color: #4ade80;
        }
        
        /* Responsive */
        @media(max-width: 768px){
            .aid-card {padding: 1rem;}
            .assessment-section {padding: 1.5rem;}
            .symptom-checklist {grid-template-columns: 1fr;}
            .assessment-buttons {flex-direction: column;}
            .assessment-btn {width: 100%; justify-content: center;}
            .step {flex-direction: column; align-items: center; text-align: center;}
            .level-header {flex-direction: column;}
            h2 {font-size: 2rem;}
            .assessment-header h3 {font-size: 1.5rem;}
            .theme-toggle {
                top: 10px;
                right: 10px;
            }
            .theme-btn {
                padding: 8px 16px;
                font-size: 0.9rem;
            }
        }
        
        @media(max-width: 480px){
            .symptom-item {max-width: 100%;}
            .assessment-section {padding: 1rem;}
            section {padding: 2rem 1rem;}
            .theme-btn span {
                display: none;
            }
            .theme-btn {
                padding: 10px;
                border-radius: 50%;
                width: 45px;
                height: 45px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button class="theme-btn" id="themeToggle">
            <i class="fas fa-moon"></i>
            <span>Dark Mode</span>
        </button>
    </div>

    <div class="main-container">
        <section data-aos="fade-up">
            <h2>ü©∫ Animal First Aid</h2>
            <p class="subtitle">Select an animal type to see recommended first aid tips in an interactive way.</p>

            <div class="animal-types">
                <button class="animal-type-btn active" data-type="bird">Birds</button>
                <button class="animal-type-btn" data-type="mammal">Mammals</button>
                <button class="animal-type-btn" data-type="reptile">Reptiles</button>
                <button class="animal-type-btn" data-type="amphibian">Amphibians</button>
            </div>

            <div class="first-aid-grid" id="firstAidGrid"></div>
        </section>

        <!-- NEW: Centered Symptom Assessment Section -->
        <div class="assessment-container">
            <div class="assessment-section" data-aos="fade-up">
                <div class="assessment-header">
                    <h3>ü©∫ Emergency Symptom Assessment</h3>
                    <p>Select all symptoms you observe to get immediate guidance</p>
                </div>
                
                <div class="symptom-checklist" id="symptomChecklist">
                    <div class="symptom-item">
                        <input type="checkbox" id="breathing" value="breathing">
                        <label for="breathing">üí® Difficulty Breathing</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="bleeding" value="bleeding">
                        <label for="bleeding">ü©∏ Bleeding/Open Wound</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="unconscious" value="unconscious">
                        <label for="unconscious">üò¥ Unconsciousness</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="broken" value="broken">
                        <label for="broken">ü¶¥ Broken Limb (Visible)</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="seizure" value="seizure">
                        <label for="seizure">üåÄ Seizures/Tremors</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="burn" value="burn">
                        <label for="burn">üî• Burns/Scalds</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="vomit" value="vomit">
                        <label for="vomit">ü§¢ Vomiting/Diarrhea</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="poison" value="poison">
                        <label for="poison">‚ò†Ô∏è Suspected Poisoning</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="swelling" value="swelling">
                        <label for="swelling">üéà Severe Swelling</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="eye" value="eye">
                        <label for="eye">üëÅÔ∏è Eye Injury</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="shock" value="shock">
                        <label for="shock">ü•∂ Signs of Shock</label>
                    </div>
                    <div class="symptom-item">
                        <input type="checkbox" id="paralyzed" value="paralyzed">
                        <label for="paralyzed">üö´ Paralysis/Can't Move</label>
                    </div>
                </div>
                
                <!-- Emergency Level Indicator -->
                <div class="emergency-level" id="emergencyLevel">
                    <div class="level-header">
                        <div class="level-icon" id="levelIcon">üö®</div>
                        <div>
                            <div class="level-title" id="levelTitle">Emergency Level</div>
                            <p id="levelDescription">Based on your selected symptoms</p>
                        </div>
                    </div>
                    <p id="levelInstructions">Follow the priority actions below immediately.</p>
                </div>
                
                <!-- Action Steps -->
                <div class="action-steps" id="actionSteps">
                    <h4>üìã Priority Actions</h4>
                    <div id="stepsContainer"></div>
                </div>
                
                <!-- Vet Guidance -->
                <div class="vet-guidance" id="vetGuidance">
                    <h4><i class="fas fa-phone-alt"></i> When to Call a Vet Immediately</h4>
                    <p id="vetInstructions">Based on your selected symptoms, immediate veterinary care is required.</p>
                    <div class="assessment-buttons">
                        <button class="assessment-btn primary" onclick="findNearestVet()">
                            <i class="fas fa-map-marker-alt"></i> Find Nearest Emergency Vet
                        </button>
                        <button class="assessment-btn secondary" onclick="prepareForVetVisit()">
                            <i class="fas fa-briefcase-medical"></i> How to Prepare for Vet Visit
                        </button>
                    </div>
                </div>
                
                <!-- Assessment Buttons -->
                <div class="assessment-buttons">
                    <button class="assessment-btn primary" onclick="assessSymptoms()">
                        <i class="fas fa-stethoscope"></i> Assess Selected Symptoms
                    </button>
                    <button class="assessment-btn secondary" onclick="resetAssessment()">
                        <i class="fas fa-redo"></i> Reset Assessment
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Footer Note -->
        <div class="footer-note" data-aos="fade-up">
            <p>‚ö†Ô∏è Important: This tool provides general first aid guidance only. Always consult with a qualified veterinarian for professional medical advice.</p>
            <p style="margin-top: 0.5rem; font-size: 0.8rem;">¬© 2024 EcoLife Animal First Aid | Dark Mode: <span id="themeStatus">Off</span></p>
        </div>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
        
        // Theme Toggle Functionality - SIMPLIFIED VERSION
        const themeToggle = document.getElementById('themeToggle');
        const themeStatus = document.getElementById('themeStatus');
        
        // Check for saved theme preference
        if (localStorage.getItem('darkMode') === 'enabled') {
            enableDarkMode();
        }
        
        function enableDarkMode() {
            document.body.classList.add('dark-mode');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i><span>Light Mode</span>';
            themeStatus.textContent = 'On';
            localStorage.setItem('darkMode', 'enabled');
        }
        
        function disableDarkMode() {
            document.body.classList.remove('dark-mode');
            themeToggle.innerHTML = '<i class="fas fa-moon"></i><span>Dark Mode</span>';
            themeStatus.textContent = 'Off';
            localStorage.setItem('darkMode', 'disabled');
        }
        
        themeToggle.addEventListener('click', () => {
            if (document.body.classList.contains('dark-mode')) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
            
            // Add click animation
            themeToggle.style.transform = 'scale(0.95)';
            setTimeout(() => {
                themeToggle.style.transform = '';
            }, 150);
        });

        // Original First Aid Grid Code
        const firstAidData = {
            bird: [
                {icon:'ü™∂', title:'Wing Injury', desc:'Keep the bird calm, gently immobilize the wing, and consult a vet.'},
                {icon:'üçÉ', title:'Hypothermia', desc:'Provide warmth using a soft cloth or heating pad at low temperature.'},
                {icon:'üíß', title:'Dehydration', desc:'Offer water using a shallow dish or syringe carefully.'},
                {icon:'üå°Ô∏è', title:'Shock', desc:'Keep in a quiet, dark place and minimize handling.'},
                {icon:'üçΩÔ∏è', title:'Malnutrition', desc:'Provide species-appropriate food and consult a wildlife rehabilitator.'}
            ],
            mammal: [
                {icon:'üêæ', title:'Fractures', desc:'Immobilize the injured limb and keep the animal calm until professional help arrives.'},
                {icon:'ü©π', title:'Cuts & Wounds', desc:'Clean gently, apply antiseptic, and monitor for infection.'},
                {icon:'üíä', title:'Poisoning', desc:'Do not induce vomiting. Contact a wildlife vet immediately.'},
                {icon:'ü§¢', title:'Digestive Issues', desc:'Withhold food for 12-24 hours, provide water, and monitor.'},
                {icon:'üëÅÔ∏è', title:'Eye Problems', desc:'Flush with saline solution and avoid direct sunlight.'}
            ],
            reptile: [
                {icon:'ü¶é', title:'Burns', desc:'Cool the burn with lukewarm water and avoid applying creams meant for humans.'},
                {icon:'üå°Ô∏è', title:'Temperature Shock', desc:'Move to a suitable temperature environment and hydrate carefully.'},
                {icon:'ü©∫', title:'Infections', desc:'Clean wounds gently and monitor. Seek vet assistance.'},
                {icon:'üíß', title:'Dehydration', desc:'Provide shallow water bowl and mist habitat regularly.'},
                {icon:'ü•ö', title:'Egg Binding', desc:'Provide warm bath and consult a reptile specialist immediately.'}
            ],
            amphibian: [
                {icon:'üê∏', title:'Skin Damage', desc:'Keep skin moist and avoid handling unnecessarily.'},
                {icon:'üíß', title:'Dehydration', desc:'Provide shallow water and mist environment to maintain humidity.'},
                {icon:'üçÇ', title:'Contamination', desc:'Remove from polluted areas and clean habitat gently.'},
                {icon:'üå°Ô∏è', title:'Temperature Stress', desc:'Maintain optimal temperature range for the specific species.'},
                {icon:'ü¶†', title:'Fungal Infections', desc:'Isolate and provide clean, filtered water. Consult a vet.'}
            ]
        };

        const firstAidGrid = document.getElementById('firstAidGrid');
        const buttons = document.querySelectorAll('.animal-type-btn');

        function populateFirstAid(type){
            firstAidGrid.innerHTML='';
            firstAidData[type].forEach(aid=>{
                const card = document.createElement('div');
                card.className='aid-card';
                card.setAttribute('data-aos','fade-up');
                card.innerHTML=`
                    <div class="aid-icon">${aid.icon}</div>
                    <h4>${aid.title}</h4>
                    <p>${aid.desc}</p>
                `;
                firstAidGrid.appendChild(card);
            });
            
            // Animate cards sequentially
            const cards = firstAidGrid.querySelectorAll('.aid-card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        }

        buttons.forEach(btn=>{
            btn.addEventListener('click',()=>{
                buttons.forEach(b=>b.classList.remove('active'));
                btn.classList.add('active');
                populateFirstAid(btn.dataset.type);
                
                // Add click animation
                btn.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    btn.style.transform = '';
                }, 150);
            });
        });

        // Initialize with birds
        populateFirstAid('bird');

        // NEW: Symptom Assessment Functions
        const symptomData = {
            breathing: { level: 'critical', steps: ['Keep airway clear', 'Do not tilt head', 'Check for obstructions'] },
            bleeding: { level: 'critical', steps: ['Apply direct pressure with clean cloth', 'Elevate wound if possible', 'Do not remove soaked cloth'] },
            unconscious: { level: 'critical', steps: ['Check breathing', 'Place in recovery position', 'Keep warm'] },
            broken: { level: 'urgent', steps: ['Immobilize limb', 'Do not attempt to realign', 'Support with padding'] },
            seizure: { level: 'critical', steps: ['Clear surrounding area', 'Time the seizure', 'Do not restrain'] },
            burn: { level: 'urgent', steps: ['Cool with lukewarm water', 'Do not apply ice', 'Cover with sterile dressing'] },
            vomit: { level: 'monitor', steps: ['Withhold food 12-24 hours', 'Offer small amounts of water', 'Monitor for dehydration'] },
            poison: { level: 'critical', steps: ['Identify poison if possible', 'Do not induce vomiting', 'Call poison control'] },
            swelling: { level: 'urgent', steps: ['Apply cold compress', 'Monitor breathing', 'Check for allergic reaction'] },
            eye: { level: 'urgent', steps: ['Flush with saline solution', 'Do not rub', 'Cover with clean cloth'] },
            shock: { level: 'critical', steps: ['Keep warm with blanket', 'Elevate hindquarters', 'Minimize movement'] },
            paralyzed: { level: 'critical', steps: ['Immobilize completely', 'Use rigid surface for transport', 'Support head and neck'] }
        };

        function assessSymptoms() {
            const selectedSymptoms = [];
            document.querySelectorAll('.symptom-item input:checked').forEach(input => {
                selectedSymptoms.push(input.value);
            });
            
            if (selectedSymptoms.length === 0) {
                alert('Please select at least one symptom');
                return;
            }
            
            // Determine emergency level
            let highestLevel = 'monitor';
            selectedSymptoms.forEach(symptom => {
                if (symptomData[symptom]) {
                    const level = symptomData[symptom].level;
                    if (level === 'critical') highestLevel = 'critical';
                    else if (level === 'urgent' && highestLevel !== 'critical') highestLevel = 'urgent';
                }
            });
            
            // Show emergency level
            const emergencyLevel = document.getElementById('emergencyLevel');
            const levelIcon = document.getElementById('levelIcon');
            const levelTitle = document.getElementById('levelTitle');
            const levelDescription = document.getElementById('levelDescription');
            const levelInstructions = document.getElementById('levelInstructions');
            
            emergencyLevel.className = `emergency-level show ${highestLevel}`;
            
            switch(highestLevel) {
                case 'critical':
                    levelIcon.textContent = 'üö®';
                    levelTitle.textContent = 'CRITICAL EMERGENCY';
                    levelTitle.className = 'level-title critical';
                    levelDescription.textContent = 'Life-threatening situation requiring immediate action';
                    levelInstructions.textContent = 'Take action NOW and prepare for immediate veterinary care';
                    break;
                case 'urgent':
                    levelIcon.textContent = '‚ö†Ô∏è';
                    levelTitle.textContent = 'URGENT CARE NEEDED';
                    levelTitle.className = 'level-title urgent';
                    levelDescription.textContent = 'Serious condition requiring prompt veterinary attention';
                    levelInstructions.textContent = 'Seek veterinary care within 2-4 hours';
                    break;
                case 'monitor':
                    levelIcon.textContent = '‚ÑπÔ∏è';
                    levelTitle.textContent = 'MONITOR CLOSELY';
                    levelTitle.className = 'level-title monitor';
                    levelDescription.textContent = 'Non-emergency situation requiring observation';
                    levelInstructions.textContent = 'Monitor closely and seek veterinary advice if condition worsens';
                    break;
            }
            
            // Show action steps
            const actionSteps = document.getElementById('actionSteps');
            const stepsContainer = document.getElementById('stepsContainer');
            stepsContainer.innerHTML = '';
            
            // Combine steps from all selected symptoms
            const allSteps = [];
            selectedSymptoms.forEach(symptom => {
                if (symptomData[symptom]) {
                    symptomData[symptom].steps.forEach((step, index) => {
                        allSteps.push({
                            symptom: symptom,
                            step: step,
                            priority: symptomData[symptom].level === 'critical' ? 1 : 
                                     symptomData[symptom].level === 'urgent' ? 2 : 3
                        });
                    });
                }
            });
            
            // Sort by priority and deduplicate
            const uniqueSteps = [...new Set(allSteps.map(s => s.step))];
            uniqueSteps.forEach((step, index) => {
                const stepDiv = document.createElement('div');
                stepDiv.className = 'step';
                stepDiv.innerHTML = `
                    <div class="step-number">${index + 1}</div>
                    <div>${step}</div>
                `;
                stepsContainer.appendChild(stepDiv);
            });
            
            actionSteps.classList.add('show');
            
            // Show vet guidance if critical or urgent
            const vetGuidance = document.getElementById('vetGuidance');
            const vetInstructions = document.getElementById('vetInstructions');
            
            if (highestLevel === 'critical' || highestLevel === 'urgent') {
                vetGuidance.classList.add('show');
                if (highestLevel === 'critical') {
                    vetInstructions.textContent = 'IMMEDIATE veterinary care is required. Call emergency vet NOW and prepare for transport.';
                } else {
                    vetInstructions.textContent = 'Veterinary care needed within a few hours. Call your vet immediately for guidance.';
                }
            } else {
                vetGuidance.classList.remove('show');
            }
            
            // Scroll to results
            emergencyLevel.scrollIntoView({ behavior: 'smooth' });
        }
        
        function resetAssessment() {
            document.querySelectorAll('.symptom-item input:checked').forEach(input => {
                input.checked = false;
                input.parentElement.classList.remove('selected');
            });
            
            document.getElementById('emergencyLevel').classList.remove('show');
            document.getElementById('actionSteps').classList.remove('show');
            document.getElementById('vetGuidance').classList.remove('show');
        }
        
        function findNearestVet() {
            alert('Feature: Would open map with nearest emergency veterinary clinics. In a real app, this would use geolocation API.');
        }
        
        function prepareForVetVisit() {
            alert('Vet Visit Preparation:\n1. Keep animal calm and warm\n2. Bring any vomit/poison samples\n3. Note all symptoms and timeline\n4. Bring medical history if available\n5. Have emergency contact ready');
        }
        
        // Add click handlers to symptom items
        document.querySelectorAll('.symptom-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (e.target.type !== 'checkbox') {
                    const checkbox = this.querySelector('input');
                    checkbox.checked = !checkbox.checked;
                }
                this.classList.toggle('selected', this.querySelector('input').checked);
            });
        });
    </script>
    <script>
    (function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="ws110ZzXAkEnbVsIy9g8d";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();
    </script>
</body>
</html>
