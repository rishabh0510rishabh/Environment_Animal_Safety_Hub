<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vet Partnership Portal - EcoLife</title>
    <link rel="stylesheet" href="../css/global/variables.css">
    <link rel="stylesheet" href="../css/global/utilities.css">
    <link rel="stylesheet" href="../css/components/navbar.css">
    <link rel="stylesheet" href="../css/components/footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #6f42c1 0%, #007bff 100%); }
        
        .hero { background: linear-gradient(135deg, #6f42c1 0%, #007bff 100%); color: white; padding: 80px 20px 40px; text-align: center; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; }
        .hero p { font-size: 1.2rem; opacity: 0.9; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .stats-banner { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 25px; border-radius: 20px; margin: 30px 0; text-align: center; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin: 20px 0; }
        .stat-item { text-align: center; }
        .stat-number { font-size: 2.5rem; font-weight: bold; }
        .stat-label { opacity: 0.9; margin-top: 5px; }
        
        .main-content { display: grid; grid-template-columns: 1fr 300px; gap: 30px; margin: 30px 0; }
        .content-area { display: flex; flex-direction: column; gap: 25px; }
        .sidebar { display: flex; flex-direction: column; gap: 20px; }
        
        .nav-tabs { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .nav-tab { padding: 12px 18px; background: white; border: none; border-radius: 25px; cursor: pointer; transition: all 0.3s; color: #333; font-size: 0.9rem; }
        .nav-tab.active { background: #6f42c1; color: white; }
        
        .content-section { display: none; }
        .content-section.active { display: block; }
        
        .portal-card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .portal-title { font-size: 1.3rem; color: #6f42c1; font-weight: bold; margin-bottom: 20px; }
        
        .clinic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px; }
        .clinic-card { background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.1); transition: all 0.3s; }
        .clinic-card:hover { transform: translateY(-5px); }
        .clinic-header { height: 120px; background: linear-gradient(45deg, #6f42c1, #007bff); display: flex; align-items: center; justify-content: center; color: white; font-size: 2.5rem; position: relative; }
        .clinic-badge { position: absolute; top: 15px; right: 15px; background: rgba(255,255,255,0.9); color: #6f42c1; padding: 8px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
        .clinic-content { padding: 25px; }
        .clinic-name { font-size: 1.3rem; font-weight: bold; margin-bottom: 10px; color: #333; }
        .clinic-info { color: #666; font-size: 0.9rem; margin: 10px 0; }
        .clinic-rating { display: flex; align-items: center; gap: 10px; margin: 15px 0; }
        .rating-stars { color: #ffc107; }
        .rating-text { color: #666; font-size: 0.9rem; }
        .clinic-services { display: flex; gap: 10px; flex-wrap: wrap; margin: 15px 0; }
        .service-tag { background: #e3f2fd; color: #1976d2; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem; }
        .clinic-actions { display: flex; gap: 10px; margin-top: 20px; }
        
        .booking-form { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .form-group { display: flex; flex-direction: column; gap: 8px; }
        .form-group label { font-weight: 600; color: #333; }
        .form-group input, .form-group select, .form-group textarea { padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { border-color: #6f42c1; outline: none; }
        
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; margin: 20px 0; }
        .calendar-day { padding: 15px 10px; text-align: center; border-radius: 10px; cursor: pointer; transition: all 0.3s; border: 2px solid #e0e0e0; }
        .calendar-day.available { background: #e8f5e8; border-color: #4caf50; color: #2e7d32; }
        .calendar-day.booked { background: #ffebee; border-color: #f44336; color: #c62828; }
        .calendar-day.selected { background: #6f42c1; color: white; border-color: #6f42c1; }
        
        .time-slots { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin: 20px 0; }
        .time-slot { padding: 10px; text-align: center; border: 2px solid #e0e0e0; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .time-slot.available { background: #e8f5e8; border-color: #4caf50; }
        .time-slot.selected { background: #6f42c1; color: white; border-color: #6f42c1; }
        .time-slot.unavailable { background: #f5f5f5; color: #999; cursor: not-allowed; }
        
        .cost-breakdown { background: #f8f9fa; padding: 20px; border-radius: 15px; margin: 20px 0; }
        .cost-item { display: flex; justify-content: space-between; margin: 10px 0; }
        .cost-label { color: #666; }
        .cost-amount { font-weight: bold; color: #333; }
        .cost-total { border-top: 2px solid #e0e0e0; padding-top: 10px; margin-top: 15px; font-size: 1.2rem; font-weight: bold; color: #6f42c1; }
        
        .record-sharing { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .record-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #f8f9fa; border-radius: 10px; margin: 10px 0; }
        .record-info { flex: 1; }
        .record-title { font-weight: bold; color: #333; }
        .record-date { color: #666; font-size: 0.9rem; }
        .record-actions { display: flex; gap: 10px; }
        
        .sidebar-section { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .sidebar-title { font-size: 1.2rem; margin-bottom: 15px; color: #6f42c1; border-bottom: 2px solid #007bff; padding-bottom: 10px; }
        
        .emergency-contact { background: #dc3545; color: white; padding: 20px; border-radius: 15px; text-align: center; margin: 20px 0; }
        .emergency-title { font-size: 1.2rem; margin-bottom: 10px; }
        .emergency-phone { font-size: 1.5rem; font-weight: bold; margin: 10px 0; }
        
        .review-item { padding: 15px; border-bottom: 1px solid #f0f0f0; }
        .review-item:last-child { border-bottom: none; }
        .review-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .reviewer-name { font-weight: bold; color: #333; }
        .review-rating { color: #ffc107; }
        .review-text { color: #666; font-size: 0.9rem; line-height: 1.5; }
        .review-date { color: #999; font-size: 0.8rem; margin-top: 5px; }
        
        .payment-methods { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0; }
        .payment-method { padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.3s; }
        .payment-method.selected { border-color: #6f42c1; background: #f3e5f5; }
        .payment-icon { font-size: 2rem; margin-bottom: 10px; color: #6f42c1; }
        .payment-label { font-size: 0.9rem; color: #333; }
        
        .btn { padding: 12px 20px; background: #6f42c1; color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 0.9rem; font-weight: bold; transition: all 0.3s; }
        .btn:hover { background: #5a32a3; transform: translateY(-2px); }
        .btn-secondary { background: #007bff; }
        .btn-secondary:hover { background: #0056b3; }
        .btn-success { background: #28a745; }
        .btn-success:hover { background: #1e7e34; }
        .btn-outline { background: transparent; border: 2px solid #6f42c1; color: #6f42c1; }
        .btn-outline:hover { background: #6f42c1; color: white; }
        
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; }
        .modal-content { background: white; margin: 50px auto; padding: 30px; border-radius: 15px; max-width: 600px; max-height: 80vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #999; }
        
        @media (max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            .main-content { grid-template-columns: 1fr; }
            .form-grid { grid-template-columns: 1fr; }
            .clinic-grid { grid-template-columns: 1fr; }
            .calendar-grid { grid-template-columns: repeat(4, 1fr); }
        }
    </style>
</head>
<body>
    <div id="navbar-container"></div>
    
    <div class="hero">
        <div class="container">
            <h1><i class="fas fa-hospital"></i> Vet Partnership Portal</h1>
            <p>Connecting veterinary clinics with animal welfare organizations</p>
        </div>
    </div>
    
    <div class="container">
        <div class="stats-banner">
            <h2>Partnership Network</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="partnerClinics">24</div>
                    <div class="stat-label">Partner Clinics</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="appointmentsBooked">187</div>
                    <div class="stat-label">Appointments This Month</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="treatmentsCompleted">156</div>
                    <div class="stat-label">Treatments Completed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="avgRating">4.8</div>
                    <div class="stat-label">Average Rating</div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="content-area">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showSection('clinics')">Partner Clinics</button>
                    <button class="nav-tab" onclick="showSection('booking')">Book Appointment</button>
                    <button class="nav-tab" onclick="showSection('records')">Medical Records</button>
                    <button class="nav-tab" onclick="showSection('costs')">Cost Tracking</button>
                    <button class="nav-tab" onclick="showSection('register')">Register Clinic</button>
                </div>
                
                <div id="clinics" class="content-section active">
                    <div class="clinic-grid" id="clinicGrid">
                        <!-- Clinics will be populated by JavaScript -->
                    </div>
                </div>
                
                <div id="booking" class="content-section">
                    <div class="booking-form">
                        <h2 class="portal-title">Book Veterinary Appointment</h2>
                        <form id="appointmentForm">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Select Clinic *</label>
                                    <select id="selectedClinic" required>
                                        <option value="">Choose Clinic</option>
                                        <option value="city-vet">City Veterinary Clinic</option>
                                        <option value="animal-hospital">Central Animal Hospital</option>
                                        <option value="pet-care">Pet Care Center</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Animal Name *</label>
                                    <input type="text" id="animalName" required>
                                </div>
                                <div class="form-group">
                                    <label>Service Type *</label>
                                    <select id="serviceType" required>
                                        <option value="">Select Service</option>
                                        <option value="checkup">General Check-up</option>
                                        <option value="vaccination">Vaccination</option>
                                        <option value="surgery">Surgery</option>
                                        <option value="emergency">Emergency</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Priority Level</label>
                                    <select id="priorityLevel">
                                        <option value="routine">Routine</option>
                                        <option value="urgent">Urgent</option>
                                        <option value="emergency">Emergency</option>
                                    </select>
                                </div>
                            </div>
                            
                            <h3 style="margin: 20px 0 15px 0; color: #6f42c1;">Select Date & Time</h3>
                            <div class="calendar-grid" id="appointmentCalendar">
                                <!-- Calendar will be populated by JavaScript -->
                            </div>
                            
                            <div class="time-slots" id="timeSlots">
                                <!-- Time slots will be populated by JavaScript -->
                            </div>
                            
                            <div class="form-group">
                                <label>Additional Notes</label>
                                <textarea id="appointmentNotes" rows="3" placeholder="Describe symptoms, concerns, or special requirements..."></textarea>
                            </div>
                            
                            <button type="submit" class="btn">Book Appointment</button>
                        </form>
                    </div>
                </div>
                
                <div id="records" class="content-section">
                    <div class="record-sharing">
                        <h2 class="portal-title">Medical Record Sharing</h2>
                        <div id="medicalRecords">
                            <!-- Medical records will be populated by JavaScript -->
                        </div>
                        <button class="btn" onclick="uploadRecord()">Upload New Record</button>
                    </div>
                </div>
                
                <div id="costs" class="content-section">
                    <div class="portal-card">
                        <h2 class="portal-title">Treatment Cost Tracking</h2>
                        <div class="cost-breakdown">
                            <div class="cost-item">
                                <span class="cost-label">General Check-ups</span>
                                <span class="cost-amount">$1,250</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Vaccinations</span>
                                <span class="cost-amount">$890</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Surgeries</span>
                                <span class="cost-amount">$3,200</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Emergency Treatments</span>
                                <span class="cost-amount">$1,560</span>
                            </div>
                            <div class="cost-item cost-total">
                                <span class="cost-label">Total This Month</span>
                                <span class="cost-amount">$6,900</span>
                            </div>
                        </div>
                        
                        <h3 style="margin: 20px 0 15px 0; color: #6f42c1;">Payment Methods</h3>
                        <div class="payment-methods">
                            <div class="payment-method selected" onclick="selectPayment(this)">
                                <div class="payment-icon"><i class="fas fa-credit-card"></i></div>
                                <div class="payment-label">Credit Card</div>
                            </div>
                            <div class="payment-method" onclick="selectPayment(this)">
                                <div class="payment-icon"><i class="fab fa-paypal"></i></div>
                                <div class="payment-label">PayPal</div>
                            </div>
                            <div class="payment-method" onclick="selectPayment(this)">
                                <div class="payment-icon"><i class="fas fa-university"></i></div>
                                <div class="payment-label">Bank Transfer</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="register" class="content-section">
                    <div class="portal-card">
                        <h2 class="portal-title">Register Your Veterinary Clinic</h2>
                        <form id="clinicRegistrationForm">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Clinic Name *</label>
                                    <input type="text" id="clinicName" required>
                                </div>
                                <div class="form-group">
                                    <label>License Number *</label>
                                    <input type="text" id="licenseNumber" required>
                                </div>
                                <div class="form-group">
                                    <label>Contact Person *</label>
                                    <input type="text" id="contactPerson" required>
                                </div>
                                <div class="form-group">
                                    <label>Phone Number *</label>
                                    <input type="tel" id="clinicPhone" required>
                                </div>
                                <div class="form-group">
                                    <label>Email *</label>
                                    <input type="email" id="clinicEmail" required>
                                </div>
                                <div class="form-group">
                                    <label>Years of Experience</label>
                                    <input type="number" id="yearsExperience" min="1">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Address *</label>
                                <textarea id="clinicAddress" rows="2" required></textarea>
                            </div>
                            <div class="form-group">
                                <label>Services Offered *</label>
                                <textarea id="servicesOffered" rows="3" placeholder="List all services your clinic provides..." required></textarea>
                            </div>
                            <div class="form-group">
                                <label>Operating Hours</label>
                                <textarea id="operatingHours" rows="2" placeholder="Mon-Fri: 9AM-6PM, Sat: 9AM-2PM..."></textarea>
                            </div>
                            <button type="submit" class="btn">Submit Registration</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="emergency-contact">
                    <div class="emergency-title">üö® Emergency Hotline</div>
                    <div class="emergency-phone">(555) VET-HELP</div>
                    <div>24/7 Emergency Support</div>
                </div>
                
                <div class="sidebar-section">
                    <h3 class="sidebar-title">Recent Reviews</h3>
                    <div id="recentReviews">
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Sarah M.</span>
                                <span class="review-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            </div>
                            <div class="review-text">Excellent care for my rescued cat. Professional and compassionate service.</div>
                            <div class="review-date">2 days ago</div>
                        </div>
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">Mike K.</span>
                                <span class="review-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            </div>
                            <div class="review-text">Quick emergency response. Saved our dog's life!</div>
                            <div class="review-date">1 week ago</div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3 class="sidebar-title">Quick Actions</h3>
                    <button class="btn" style="width: 100%; margin: 10px 0;" onclick="emergencyBooking()">Emergency Booking</button>
                    <button class="btn btn-secondary" style="width: 100%; margin: 10px 0;" onclick="viewAvailability()">Check Availability</button>
                    <button class="btn btn-success" style="width: 100%; margin: 10px 0;" onclick="downloadReport()">Download Report</button>
                </div>
                
                <div class="sidebar-section">
                    <h3 class="sidebar-title">Partnership Benefits</h3>
                    <div style="padding: 15px; background: #f8f9fa; border-radius: 10px; margin: 10px 0;">
                        <div style="font-weight: bold; color: #333; margin-bottom: 5px;">üí∞ Discounted Rates</div>
                        <div style="color: #666; font-size: 0.9rem;">Up to 30% off regular prices</div>
                    </div>
                    <div style="padding: 15px; background: #f8f9fa; border-radius: 10px; margin: 10px 0;">
                        <div style="font-weight: bold; color: #333; margin-bottom: 5px;">‚ö° Priority Booking</div>
                        <div style="color: #666; font-size: 0.9rem;">Fast-track appointments</div>
                    </div>
                    <div style="padding: 15px; background: #f8f9fa; border-radius: 10px; margin: 10px 0;">
                        <div style="font-weight: bold; color: #333; margin-bottom: 5px;">üìã Digital Records</div>
                        <div style="color: #666; font-size: 0.9rem;">Seamless record sharing</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal for clinic details -->
    <div id="clinicModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Clinic Details</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody">
                <!-- Modal content will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <div id="footer-container"></div>
    
    <script>
        // Sample data
        const partnerClinics = [
            {
                id: 1,
                name: "City Veterinary Clinic",
                address: "123 Main St, Downtown",
                phone: "(555) 123-4567",
                rating: 4.8,
                reviews: 156,
                services: ["General Care", "Surgery", "Emergency", "Vaccination"],
                availability: "24/7",
                icon: "üè•"
            },
            {
                id: 2,
                name: "Central Animal Hospital",
                address: "456 Oak Ave, Central",
                phone: "(555) 234-5678",
                rating: 4.9,
                reviews: 203,
                services: ["Surgery", "Dental", "X-Ray", "Lab Tests"],
                availability: "Mon-Sat",
                icon: "üè®"
            },
            {
                id: 3,
                name: "Pet Care Center",
                address: "789 Pine Rd, Westside",
                phone: "(555) 345-6789",
                rating: 4.7,
                reviews: 98,
                services: ["General Care", "Grooming", "Vaccination", "Wellness"],
                availability: "Mon-Fri",
                icon: "üêæ"
            }
        ];
        
        const medicalRecords = [
            { animal: "Buddy", type: "Vaccination Record", date: "2024-03-15", clinic: "City Vet", shared: true },
            { animal: "Luna", type: "Surgery Report", date: "2024-03-10", clinic: "Animal Hospital", shared: false },
            { animal: "Max", type: "Blood Test Results", date: "2024-03-08", clinic: "Pet Care Center", shared: true }
        ];
        
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }
        
        function loadClinics() {
            const grid = document.getElementById('clinicGrid');
            grid.innerHTML = partnerClinics.map(clinic => `
                <div class="clinic-card" onclick="viewClinicDetails(${clinic.id})">
                    <div class="clinic-header">
                        ${clinic.icon}
                        <div class="clinic-badge">${clinic.availability}</div>
                    </div>
                    <div class="clinic-content">
                        <div class="clinic-name">${clinic.name}</div>
                        <div class="clinic-info">
                            <i class="fas fa-map-marker-alt"></i> ${clinic.address}
                        </div>
                        <div class="clinic-info">
                            <i class="fas fa-phone"></i> ${clinic.phone}
                        </div>
                        <div class="clinic-rating">
                            <span class="rating-stars">${'‚≠ê'.repeat(Math.floor(clinic.rating))}</span>
                            <span class="rating-text">${clinic.rating} (${clinic.reviews} reviews)</span>
                        </div>
                        <div class="clinic-services">
                            ${clinic.services.map(service => `<span class="service-tag">${service}</span>`).join('')}
                        </div>
                        <div class="clinic-actions">
                            <button class="btn" onclick="event.stopPropagation(); bookAppointment(${clinic.id})">Book Now</button>
                            <button class="btn btn-outline" onclick="event.stopPropagation(); viewReviews(${clinic.id})">Reviews</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function loadMedicalRecords() {
            const container = document.getElementById('medicalRecords');
            container.innerHTML = medicalRecords.map(record => `
                <div class="record-item">
                    <div class="record-info">
                        <div class="record-title">${record.animal} - ${record.type}</div>
                        <div class="record-date">${new Date(record.date).toLocaleDateString()} ‚Ä¢ ${record.clinic}</div>
                    </div>
                    <div class="record-actions">
                        <button class="btn btn-outline" onclick="viewRecord('${record.animal}')">View</button>
                        <button class="btn ${record.shared ? 'btn-success' : 'btn-secondary'}" onclick="toggleShare('${record.animal}')">
                            ${record.shared ? 'Shared' : 'Share'}
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        function loadCalendar() {
            const calendar = document.getElementById('appointmentCalendar');
            const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            const statuses = ['available', 'booked', 'available', 'available'];
            
            calendar.innerHTML = days.map((day, index) => `
                <div class="calendar-day ${statuses[index % statuses.length]}" onclick="selectDate(this, ${index + 22})">
                    <div style="font-weight: bold; margin-bottom: 5px;">${day}</div>
                    <div style="font-size: 0.8rem;">${index + 22}</div>
                </div>
            `).join('');
        }
        
        function loadTimeSlots() {
            const slots = document.getElementById('timeSlots');
            const times = ['9:00 AM', '10:00 AM', '11:00 AM', '2:00 PM', '3:00 PM', '4:00 PM'];
            const availability = ['available', 'available', 'unavailable', 'available', 'available', 'unavailable'];
            
            slots.innerHTML = times.map((time, index) => `
                <div class="time-slot ${availability[index]}" onclick="selectTime(this, '${time}')">
                    ${time}
                </div>
            `).join('');
        }
        
        function viewClinicDetails(clinicId) {
            const clinic = partnerClinics.find(c => c.id === clinicId);
            document.getElementById('modalTitle').textContent = clinic.name;
            document.getElementById('modalBody').innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 10px;">${clinic.icon}</div>
                    <h3>${clinic.name}</h3>
                    <p style="color: #666;">${clinic.address}</p>
                    <div class="clinic-rating" style="justify-content: center; margin: 15px 0;">
                        <span class="rating-stars">${'‚≠ê'.repeat(Math.floor(clinic.rating))}</span>
                        <span class="rating-text">${clinic.rating} (${clinic.reviews} reviews)</span>
                    </div>
                </div>
                <div style="margin: 20px 0;">
                    <strong>Services:</strong><br>
                    <div class="clinic-services" style="margin: 10px 0;">
                        ${clinic.services.map(service => `<span class="service-tag">${service}</span>`).join('')}
                    </div>
                </div>
                <div style="margin: 20px 0;">
                    <strong>Contact:</strong><br>
                    üìû ${clinic.phone}<br>
                    üïí ${clinic.availability}
                </div>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button class="btn" onclick="bookAppointment(${clinic.id})">Book Appointment</button>
                    <button class="btn btn-secondary" onclick="contactClinic(${clinic.id})">Contact</button>
                </div>
            `;
            document.getElementById('clinicModal').style.display = 'block';
        }
        
        function selectDate(element, date) {
            document.querySelectorAll('.calendar-day').forEach(day => day.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function selectTime(element, time) {
            if (element.classList.contains('unavailable')) return;
            document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function selectPayment(element) {
            document.querySelectorAll('.payment-method').forEach(method => method.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function bookAppointment(clinicId) {
            showSection('booking');
            document.querySelector('[onclick="showSection(\'booking\')"]').classList.add('active');
            if (clinicId) {
                const clinic = partnerClinics.find(c => c.id === clinicId);
                document.getElementById('selectedClinic').value = clinic.name.toLowerCase().replace(/\s+/g, '-');
            }
            closeModal();
        }
        
        function viewReviews(clinicId) {
            alert('Opening reviews for clinic...');
        }
        
        function contactClinic(clinicId) {
            const clinic = partnerClinics.find(c => c.id === clinicId);
            alert(`Calling ${clinic.name} at ${clinic.phone}`);
        }
        
        function viewRecord(animal) {
            alert(`Opening medical record for ${animal}`);
        }
        
        function toggleShare(animal) {
            const record = medicalRecords.find(r => r.animal === animal);
            record.shared = !record.shared;
            loadMedicalRecords();
            alert(`Record sharing ${record.shared ? 'enabled' : 'disabled'} for ${animal}`);
        }
        
        function uploadRecord() {
            alert('Medical record upload system opened');
        }
        
        function emergencyBooking() {
            alert('üö® Emergency booking system activated! Connecting to nearest available clinic...');
        }
        
        function viewAvailability() {
            alert('üìÖ Real-time availability checker opened');
        }
        
        function downloadReport() {
            alert('üìä Partnership report downloaded successfully!');
        }
        
        function closeModal() {
            document.getElementById('clinicModal').style.display = 'none';
        }
        
        // Form submissions
        document.getElementById('appointmentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Appointment booked successfully! Confirmation email sent.');
            this.reset();
        });
        
        document.getElementById('clinicRegistrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Clinic registration submitted! We will review and contact you within 48 hours.');
            this.reset();
        });
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadClinics();
            loadMedicalRecords();
            loadCalendar();
            loadTimeSlots();
            
            // Load navbar and footer
            fetch('../components/navbar.html')
                .then(response => response.text())
                .then(data => document.getElementById('navbar-container').innerHTML = data);
            
            fetch('../components/footer.html')
                .then(response => response.text())
                .then(data => document.getElementById('footer-container').innerHTML = data);
        });
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('clinicModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>