<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Animal Safety Game | EcoLife</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<link rel="stylesheet" href="../../css/pages/games/animal-safety-scenario-game.css">

<link rel="stylesheet" href="../../css/global/utilities.css" />
  <link rel="stylesheet" href="../../css/components/footer.css" />
  <link rel="stylesheet" href="../../css/components/navbar.css" />
</head>

<body>

  <div id="cursor-container"></div>
<script src="../../js/components/loadComponents.js"></script>


  <div id="navbar-container"></div>

<header style="padding-top: 150px; background-color: beige;">
  <h1>üêæ Animal Safety Game</h1>
  <p>Choose the safest & kindest action üå±</p>
</header>

<div class="game-container">

  <div class="top-info">
    <div>Question: <span id="qNo">1</span>/5</div>
    <div>Score: <span id="score">0</span></div>
  </div>

  <div class="scenario" id="scenarioText"></div>

  <div class="options" id="options"></div>

  <div class="feedback" id="feedback"></div>

  <div class="center-btn" id="nextBtnBox" style="display:none">
    <button class="btn" onclick="nextQuestion()">Next ‚û°</button>
  </div>

  <div class="result" id="result"></div>

  <div class="center-btn" id="endBtns" style="display:none">
    <button class="btn secondary" onclick="location.reload()">üîÅ Play Again</button>
    <button class="btn" onclick="location.href='kids-quiz-dashboard.html'">üè† Dashboard</button>
  </div>

</div>

<script>
const scenarios = [
  {
    q:"You see an injured dog on the road. What should you do?",
    options:[
      "Ignore and walk away",
      "Throw stones to move it",
      "Call an animal rescue or adult for help",
      "Try to lift it alone"
    ],
    correct:2
  },
  {
    q:"A stray dog is sleeping peacefully. What is the right action?",
    options:[
      "Disturb it for fun",
      "Let it rest quietly",
      "Shout at it",
      "Chase it away"
    ],
    correct:1
  },
  {
    q:"You want to feed a stray animal. What is safe?",
    options:[
      "Chocolate or chips",
      "Plastic-packed junk food",
      "Proper food like rice or biscuits",
      "Anything available"
    ],
    correct:2
  },
  {
    q:"You see someone hurting an animal. What should you do?",
    options:[
      "Join them",
      "Ignore it",
      "Report to a trusted adult or authority",
      "Record and laugh"
    ],
    correct:2
  },
  {
    q:"A pet looks scared during fireworks. What helps?",
    options:[
      "Loud music",
      "Comfort and quiet space",
      "Teasing it",
      "Leaving it outside"
    ],
    correct:1
  }
];

let current = 0;
let score = 0;
let answered = false;

const scenarioText = document.getElementById("scenarioText");
const optionsDiv = document.getElementById("options");
const feedback = document.getElementById("feedback");
const scoreEl = document.getElementById("score");
const qNo = document.getElementById("qNo");

function loadQuestion(){
  answered = false;
  feedback.textContent="";
  optionsDiv.innerHTML="";
  document.getElementById("nextBtnBox").style.display="none";

  const s = scenarios[current];
  scenarioText.textContent = s.q;
  qNo.textContent = current + 1;

  s.options.forEach((opt,i)=>{
    const div = document.createElement("div");
    div.className="option";
    div.innerHTML = `<i class="fa-solid fa-paw"></i> ${opt}`;
    div.onclick = ()=>selectOption(div,i);
    optionsDiv.appendChild(div);
  });
}

function selectOption(el,index){
  if(answered) return;
  answered = true;

  const correct = scenarios[current].correct;
  const options = document.querySelectorAll(".option");

  options[correct].classList.add("correct");

  if(index === correct){
    score++;
    feedback.textContent="‚úÖ Correct! Kind and safe choice.";
  }else{
    el.classList.add("wrong");
    feedback.textContent="‚ùå Not safe. Always choose kindness.";
  }

  scoreEl.textContent = score;
  document.getElementById("nextBtnBox").style.display="flex";
}

function nextQuestion(){
  current++;
  if(current < scenarios.length){
    loadQuestion();
  }else{
    showResult();
  }
}

function showResult(){
  scenarioText.style.display="none";
  optionsDiv.style.display="none";
  feedback.style.display="none";
  document.getElementById("nextBtnBox").style.display="none";

  document.getElementById("result").innerHTML =
    `üéâ Game Over!<br>You scored <strong>${score}</strong> out of ${scenarios.length}`;

  document.getElementById("endBtns").style.display="flex";
}

loadQuestion();
</script>

<!-- Footer placeholder -->
  <div id="footer-placeholder"></div>
<script src="/frontend/js/components/footer-loader.js"></script>
<script src="../../js/components/component-loader.js"></script>
    <script src="../../js/components/navbar-loader.js"></script>
</body>
</html>
