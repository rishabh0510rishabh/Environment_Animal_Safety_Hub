<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eco-Friendly Marketplace - EcoLife</title>
  <link rel="stylesheet" href="../css/global/variables.css">
  <link rel="stylesheet" href="../css/global/utilities.css">
  <link rel="stylesheet" href="../css/components/navbar.css">
  <link rel="stylesheet" href="../css/components/footer.css">
  <link rel="stylesheet" href="../css/global/accessibility.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'Poppins', sans-serif; margin: 0; background: #f8f9fa; }
    .marketplace-hero { background: linear-gradient(135deg, #4CAF50, #2E7D32); color: white; padding: 80px 20px 60px; text-align: center; }
    .marketplace-hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
    .marketplace-hero p { font-size: 1.1rem; opacity: 0.9; }
    .marketplace-container { max-width: 1200px; margin: -40px auto 60px; padding: 0 20px; }
    .search-filters { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 30px; }
    .filter-row { display: flex; gap: 15px; flex-wrap: wrap; align-items: center; }
    .search-box { flex: 1; min-width: 250px; }
    .search-box input { width: 100%; padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; }
    .filter-select { padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 8px; cursor: pointer; min-width: 150px; }
    .products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 40px; }
    .product-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.1); transition: transform 0.3s; }
    .product-card:hover { transform: translateY(-5px); }
    .product-image { width: 100%; height: 200px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: #4CAF50; }
    .product-info { padding: 20px; }
    .product-title { font-size: 1.2rem; font-weight: 600; margin-bottom: 8px; color: #2E7D32; }
    .product-price { font-size: 1.1rem; font-weight: 600; color: #4CAF50; margin-bottom: 10px; }
    .sustainability-rating { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
    .rating-stars { color: #4CAF50; }
    .product-features { list-style: none; padding: 0; margin: 10px 0; }
    .product-features li { padding: 4px 0; color: #666; font-size: 0.9rem; }
    .product-features li:before { content: "‚úì"; color: #4CAF50; font-weight: bold; margin-right: 8px; }
    .product-actions { display: flex; gap: 10px; margin-top: 15px; }
    .btn-primary { background: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; text-decoration: none; display: inline-block; transition: all 0.3s; min-height: 44px; }
    .btn-primary:hover { background: #45a049; transform: translateY(-2px); }
    .btn-secondary { background: white; color: #4CAF50; padding: 10px 20px; border: 2px solid #4CAF50; border-radius: 8px; cursor: pointer; text-decoration: none; display: inline-block; transition: all 0.3s; min-height: 44px; }
    .btn-secondary:hover { background: #4CAF50; color: white; }
    .categories-section { background: white; padding: 40px 20px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 40px; }
    .categories-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }
    .category-card { text-align: center; padding: 30px 20px; background: #f8f9fa; border-radius: 12px; cursor: pointer; transition: all 0.3s; }
    .category-card:hover { background: #4CAF50; color: white; transform: translateY(-3px); }
    .category-icon { font-size: 3rem; margin-bottom: 15px; color: #4CAF50; }
    .category-card:hover .category-icon { color: white; }
    .comparison-tool { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 40px; }
    .comparison-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    .comparison-table th, .comparison-table td { padding: 12px; text-align: left; border-bottom: 1px solid #e0e0e0; }
    .comparison-table th { background: #f8f9fa; font-weight: 600; }
    .vendor-directory { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
    .vendor-card { display: flex; align-items: center; gap: 20px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 15px; }
    .vendor-logo { width: 60px; height: 60px; background: #4CAF50; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; }
    .vendor-info h4 { margin: 0 0 5px; color: #2E7D32; }
    .vendor-info p { margin: 0; color: #666; font-size: 0.9rem; }
    .wishlist-btn { position: absolute; top: 10px; right: 10px; background: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    .wishlist-btn.active { color: #e74c3c; }
    @media (max-width: 768px) {
      .marketplace-hero h1 { font-size: 2rem; }
      .filter-row { flex-direction: column; align-items: stretch; }
      .search-box { min-width: auto; }
      .product-actions { flex-direction: column; }
    }
  </style>
</head>
<body>
  <div id="navbar-container"></div>

  <main>
    <section class="marketplace-hero">
      <h1>üå± Eco-Friendly Marketplace</h1>
      <p>Discover sustainable products that help protect our planet</p>
    </section>

    <div class="marketplace-container">
      <!-- Search & Filters -->
      <div class="search-filters">
        <div class="filter-row">
          <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search eco-friendly products...">
          </div>
          <select class="filter-select" id="categoryFilter">
            <option value="">All Categories</option>
            <option value="biodegradable">Biodegradable</option>
            <option value="recycled">Recycled Materials</option>
            <option value="organic">Organic</option>
            <option value="renewable">Renewable Energy</option>
            <option value="zero-waste">Zero Waste</option>
          </select>
          <select class="filter-select" id="priceFilter">
            <option value="">All Prices</option>
            <option value="0-500">‚Çπ0 - ‚Çπ500</option>
            <option value="500-1000">‚Çπ500 - ‚Çπ1000</option>
            <option value="1000-2000">‚Çπ1000 - ‚Çπ2000</option>
            <option value="2000+">‚Çπ2000+</option>
          </select>
          <select class="filter-select" id="ratingFilter">
            <option value="">All Ratings</option>
            <option value="5">5 Stars</option>
            <option value="4">4+ Stars</option>
            <option value="3">3+ Stars</option>
          </select>
        </div>
      </div>

      <!-- Product Categories -->
      <div class="categories-section">
        <h2 style="text-align: center; color: #2E7D32; margin-bottom: 10px;">Shop by Category</h2>
        <div class="categories-grid">
          <div class="category-card" data-category="biodegradable">
            <div class="category-icon">üåø</div>
            <h3>Biodegradable</h3>
            <p>Naturally decomposing products</p>
          </div>
          <div class="category-card" data-category="recycled">
            <div class="category-icon">‚ôªÔ∏è</div>
            <h3>Recycled</h3>
            <p>Made from recycled materials</p>
          </div>
          <div class="category-card" data-category="organic">
            <div class="category-icon">üå±</div>
            <h3>Organic</h3>
            <p>Chemical-free natural products</p>
          </div>
          <div class="category-card" data-category="renewable">
            <div class="category-icon">‚ö°</div>
            <h3>Renewable Energy</h3>
            <p>Solar & wind powered items</p>
          </div>
          <div class="category-card" data-category="zero-waste">
            <div class="category-icon">üóëÔ∏è</div>
            <h3>Zero Waste</h3>
            <p>Minimal packaging products</p>
          </div>
          <div class="category-card" data-category="reusable">
            <div class="category-icon">üîÑ</div>
            <h3>Reusable</h3>
            <p>Long-lasting alternatives</p>
          </div>
        </div>
      </div>

      <!-- Products Grid -->
      <div class="products-grid" id="productsGrid">
        <!-- Products will be populated by JavaScript -->
      </div>

      <!-- Comparison Tool -->
      <div class="comparison-tool">
        <h2 style="color: #2E7D32; margin-bottom: 15px;"><i class="fas fa-balance-scale"></i> Product Comparison</h2>
        <p>Compare eco-friendly products with conventional alternatives</p>
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Eco-Friendly Product</th>
              <th>Conventional Product</th>
              <th>Environmental Impact</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Material</td>
              <td>Bamboo/Recycled</td>
              <td>Plastic/Virgin</td>
              <td>70% less carbon footprint</td>
            </tr>
            <tr>
              <td>Durability</td>
              <td>2-5 years</td>
              <td>6 months - 2 years</td>
              <td>Reduces replacement frequency</td>
            </tr>
            <tr>
              <td>End of Life</td>
              <td>Biodegradable/Recyclable</td>
              <td>Landfill waste</td>
              <td>Zero waste to landfill</td>
            </tr>
            <tr>
              <td>Price</td>
              <td>‚Çπ200-500</td>
              <td>‚Çπ100-300</td>
              <td>Long-term cost savings</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Vendor Directory -->
      <div class="vendor-directory">
        <h2 style="color: #2E7D32; margin-bottom: 20px;"><i class="fas fa-store"></i> Local Eco Vendors</h2>
        <div class="vendor-card">
          <div class="vendor-logo">üå±</div>
          <div class="vendor-info">
            <h4>Green Earth Store</h4>
            <p>Organic products, zero-waste items ‚Ä¢ Mumbai ‚Ä¢ 4.8‚òÖ</p>
            <p>üìû +91-9876543210 ‚Ä¢ üåê greenearth.com</p>
          </div>
        </div>
        <div class="vendor-card">
          <div class="vendor-logo">‚ôªÔ∏è</div>
          <div class="vendor-info">
            <h4>EcoChoice Market</h4>
            <p>Recycled materials, sustainable fashion ‚Ä¢ Delhi ‚Ä¢ 4.6‚òÖ</p>
            <p>üìû +91-9876543211 ‚Ä¢ üåê ecochoice.in</p>
          </div>
        </div>
        <div class="vendor-card">
          <div class="vendor-logo">üåø</div>
          <div class="vendor-info">
            <h4>Nature's Best</h4>
            <p>Biodegradable products, natural cosmetics ‚Ä¢ Bangalore ‚Ä¢ 4.9‚òÖ</p>
            <p>üìû +91-9876543212 ‚Ä¢ üåê naturesbest.co.in</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <div id="footer-container"></div>

  <script>
    // Sample product data
    const products = [
      {
        id: 1,
        title: "Bamboo Toothbrush Set",
        price: "‚Çπ299",
        originalPrice: "‚Çπ399",
        category: "biodegradable",
        rating: 5,
        image: "ü¶∑",
        features: ["100% biodegradable", "Soft bristles", "Pack of 4", "Plastic-free packaging"],
        sustainability: 95,
        vendor: "Green Earth Store"
      },
      {
        id: 2,
        title: "Recycled Paper Notebooks",
        price: "‚Çπ450",
        originalPrice: "‚Çπ600",
        category: "recycled",
        rating: 4,
        image: "üìì",
        features: ["Made from recycled paper", "Eco-friendly binding", "Set of 3", "Tree-free production"],
        sustainability: 88,
        vendor: "EcoChoice Market"
      },
      {
        id: 3,
        title: "Organic Cotton Tote Bags",
        price: "‚Çπ350",
        originalPrice: "‚Çπ500",
        category: "organic",
        rating: 5,
        image: "üëú",
        features: ["100% organic cotton", "Reusable design", "Strong handles", "Machine washable"],
        sustainability: 92,
        vendor: "Nature's Best"
      },
      {
        id: 4,
        title: "Solar Power Bank",
        price: "‚Çπ1299",
        originalPrice: "‚Çπ1599",
        category: "renewable",
        rating: 4,
        image: "üîã",
        features: ["Solar charging", "10000mAh capacity", "Waterproof", "LED flashlight"],
        sustainability: 85,
        vendor: "Green Earth Store"
      },
      {
        id: 5,
        title: "Zero Waste Starter Kit",
        price: "‚Çπ899",
        originalPrice: "‚Çπ1199",
        category: "zero-waste",
        rating: 5,
        image: "üåç",
        features: ["Reusable containers", "Bamboo utensils", "Cloth bags", "Stainless steel straws"],
        sustainability: 98,
        vendor: "EcoChoice Market"
      },
      {
        id: 6,
        title: "Reusable Water Bottle",
        price: "‚Çπ599",
        originalPrice: "‚Çπ799",
        category: "reusable",
        rating: 4,
        image: "üç∂",
        features: ["Stainless steel", "Insulated design", "Leak-proof", "BPA-free"],
        sustainability: 90,
        vendor: "Nature's Best"
      }
    ];

    // Load navbar and footer
    fetch('../components/navbar.html').then(r => r.text()).then(html => {
      document.getElementById('navbar-container').innerHTML = html;
    });
    fetch('../components/footer.html').then(r => r.text()).then(html => {
      document.getElementById('footer-container').innerHTML = html;
    });

    // Render products
    function renderProducts(productsToRender = products) {
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = productsToRender.map(product => `
        <div class="product-card" data-category="${product.category}" data-price="${product.price.replace('‚Çπ', '').replace(',', '')}" data-rating="${product.rating}">
          <button class="wishlist-btn" onclick="toggleWishlist(${product.id})">
            <i class="fas fa-heart"></i>
          </button>
          <div class="product-image">${product.image}</div>
          <div class="product-info">
            <h3 class="product-title">${product.title}</h3>
            <div class="product-price">
              ${product.price} 
              <span style="text-decoration: line-through; color: #999; font-size: 0.9rem;">${product.originalPrice}</span>
            </div>
            <div class="sustainability-rating">
              <div class="rating-stars">${'‚òÖ'.repeat(product.rating)}${'‚òÜ'.repeat(5-product.rating)}</div>
              <span style="color: #4CAF50; font-weight: 600;">${product.sustainability}% Sustainable</span>
            </div>
            <ul class="product-features">
              ${product.features.map(feature => `<li>${feature}</li>`).join('')}
            </ul>
            <p style="color: #666; font-size: 0.9rem; margin: 10px 0;">Sold by: ${product.vendor}</p>
            <div class="product-actions">
              <a href="#" class="btn-primary">Add to Cart</a>
              <a href="#" class="btn-secondary">Compare</a>
            </div>
          </div>
        </div>
      `).join('');
    }

    // Filter functionality
    function filterProducts() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const categoryFilter = document.getElementById('categoryFilter').value;
      const priceFilter = document.getElementById('priceFilter').value;
      const ratingFilter = document.getElementById('ratingFilter').value;

      let filtered = products.filter(product => {
        const matchesSearch = product.title.toLowerCase().includes(searchTerm) || 
                            product.features.some(f => f.toLowerCase().includes(searchTerm));
        const matchesCategory = !categoryFilter || product.category === categoryFilter;
        const matchesRating = !ratingFilter || product.rating >= parseInt(ratingFilter);
        
        let matchesPrice = true;
        if (priceFilter) {
          const price = parseInt(product.price.replace('‚Çπ', '').replace(',', ''));
          if (priceFilter === '0-500') matchesPrice = price <= 500;
          else if (priceFilter === '500-1000') matchesPrice = price > 500 && price <= 1000;
          else if (priceFilter === '1000-2000') matchesPrice = price > 1000 && price <= 2000;
          else if (priceFilter === '2000+') matchesPrice = price > 2000;
        }

        return matchesSearch && matchesCategory && matchesPrice && matchesRating;
      });

      renderProducts(filtered);
    }

    // Event listeners
    document.getElementById('searchInput').addEventListener('input', filterProducts);
    document.getElementById('categoryFilter').addEventListener('change', filterProducts);
    document.getElementById('priceFilter').addEventListener('change', filterProducts);
    document.getElementById('ratingFilter').addEventListener('change', filterProducts);

    // Category card clicks
    document.querySelectorAll('.category-card').forEach(card => {
      card.addEventListener('click', function() {
        const category = this.getAttribute('data-category');
        document.getElementById('categoryFilter').value = category;
        filterProducts();
      });
    });

    // Wishlist functionality
    let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
    
    function toggleWishlist(productId) {
      const index = wishlist.indexOf(productId);
      if (index > -1) {
        wishlist.splice(index, 1);
      } else {
        wishlist.push(productId);
      }
      localStorage.setItem('wishlist', JSON.stringify(wishlist));
      updateWishlistUI();
    }

    function updateWishlistUI() {
      document.querySelectorAll('.wishlist-btn').forEach((btn, index) => {
        const productId = products[index]?.id;
        if (wishlist.includes(productId)) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
    }

    // Initialize
    renderProducts();
    updateWishlistUI();
  </script>
</body>
</html>