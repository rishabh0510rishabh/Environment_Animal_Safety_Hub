    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donation & Fundraising Management</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/donation-management.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-brand">
                <h1>üí∞ Donation & Fundraising Management</h1>
            </div>
            <ul class="nav-links">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="donation-management.html" class="active">Donations</a></li>
                <li><a href="../index.html">Dashboard</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Tab Navigation -->
        <div class="donation-tabs">
            <button class="tab-btn active" data-tab="donors">
                <span class="tab-icon">üë•</span> Donors
            </button>
            <button class="tab-btn" data-tab="donations">
                <span class="tab-icon">üí≥</span> Donations
            </button>
            <button class="tab-btn" data-tab="campaigns">
                <span class="tab-icon">üéØ</span> Campaigns
            </button>
            <button class="tab-btn" data-tab="events">
                <span class="tab-icon">üéâ</span> Events
            </button>
            <button class="tab-btn" data-tab="recurring">
                <span class="tab-icon">üîÑ</span> Recurring
            </button>
            <button class="tab-btn" data-tab="analytics">
                <span class="tab-icon">üìä</span> Analytics
            </button>
        </div>

        <!-- ======== TAB 1: DONORS ======== -->
        <div id="donors" class="tab-content active">
            <div class="tab-header">
                <h2>Donor Management</h2>
                <button class="btn btn-primary" id="addDonorBtn">+ Add Donor</button>
            </div>

            <!-- Add Donor Modal -->
            <div id="donorModal" class="modal hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3>Add New Donor</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <form id="donorForm" class="donation-form">
                        <div class="form-section">
                            <h4>Personal Information</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Donor Type *</label>
                                    <select id="donorType" required>
                                        <option value="individual">Individual</option>
                                        <option value="corporate">Corporate</option>
                                        <option value="foundation">Foundation</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Name *</label>
                                    <input type="text" id="donorName" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Email *</label>
                                    <input type="email" id="donorEmail" required>
                                </div>
                                <div class="form-group">
                                    <label>Phone *</label>
                                    <input type="tel" id="donorPhone" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Address</label>
                                <input type="text" id="donorAddress" placeholder="Street address">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>City</label>
                                    <input type="text" id="donorCity">
                                </div>
                                <div class="form-group">
                                    <label>State</label>
                                    <input type="text" id="donorState">
                                </div>
                                <div class="form-group">
                                    <label>ZIP</label>
                                    <input type="text" id="donorZip">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Communication Preferences</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Preferred Contact Method</label>
                                    <select id="preferredMethod">
                                        <option value="email" selected>Email</option>
                                        <option value="phone">Phone</option>
                                        <option value="mail">Mail</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Communication Frequency</label>
                                    <select id="commFrequency">
                                        <option value="monthly" selected>Monthly</option>
                                        <option value="quarterly">Quarterly</option>
                                        <option value="annually">Annually</option>
                                    </select>
                                </div>
                            </div>
                            <div class="preferences-checklist">
                                <label><input type="checkbox" id="newsLetterPref" checked> Subscribe to Newsletter</label>
                                <label><input type="checkbox" id="eventInvPref" checked> Event Invitations</label>
                                <label><input type="checkbox" id="anonPref"> Allow Anonymous Donations</label>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Tags & Notes</h4>
                            <div class="form-group">
                                <label>Tags (comma-separated)</label>
                                <input type="text" id="donorTags" placeholder="major-donor, corporate, matching-gift">
                            </div>
                            <div class="form-group">
                                <label>Custom Notes</label>
                                <textarea id="donorNotes"></textarea>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="cancelDonorBtn">Cancel</button>
                            <button type="submit" class="btn btn-primary">Add Donor</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Donor Filters -->
            <div class="filter-bar">
                <input type="text" id="donorSearchBox" placeholder="Search donors...">
                <select id="donorSegmentFilter">
                    <option value="">All Segments</option>
                    <option value="major">Major Donors</option>
                    <option value="regular">Regular Donors</option>
                    <option value="lapsed">Lapsed Donors</option>
                    <option value="prospect">Prospects</option>
                </select>
                <select id="donorTypeFilter">
                    <option value="">All Types</option>
                    <option value="individual">Individual</option>
                    <option value="corporate">Corporate</option>
                    <option value="foundation">Foundation</option>
                </select>
            </div>

            <!-- Donors List -->
            <div id="donorsList" class="donors-list">
                <!-- Donors will be loaded here -->
            </div>
        </div>

        <!-- ======== TAB 2: DONATIONS ======== -->
        <div id="donations" class="tab-content">
            <div class="tab-header">
                <h2>Donations</h2>
                <button class="btn btn-primary" id="newDonationBtn">+ Record Donation</button>
            </div>

            <!-- Record Donation Modal -->
            <div id="donationModal" class="modal hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3>Record New Donation</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <form id="donationForm" class="donation-form">
                        <div class="form-section">
                            <h4>Donation Details</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Donor *</label>
                                    <select id="donationDonor" required>
                                        <option value="">Select Donor</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Amount *</label>
                                    <input type="number" id="donationAmount" min="0.01" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label>Donation Type *</label>
                                    <select id="donationType" required>
                                        <option value="general">General</option>
                                        <option value="memorial">Memorial</option>
                                        <option value="tribute">Tribute</option>
                                        <option value="matching-gift">Matching Gift</option>
                                        <option value="in-kind">In-Kind</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Payment Method</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Payment Method *</label>
                                    <select id="paymentMethod" required onchange="handlePaymentMethodChange()">
                                        <option value="credit-card">Credit Card</option>
                                        <option value="paypal">PayPal</option>
                                        <option value="check">Check</option>
                                        <option value="wire">Wire Transfer</option>
                                        <option value="ach">ACH</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Donation Date *</label>
                                    <input type="date" id="donationDate" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Campaign & Purpose</h4>
                            <div class="form-group">
                                <label>Associated Campaign</label>
                                <select id="associatedCampaign">
                                    <option value="">No Campaign</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Purpose/Notes</label>
                                <textarea id="donationPurpose" placeholder="Any special notes about this donation..."></textarea>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Options</h4>
                            <div class="preferences-checklist">
                                <label><input type="checkbox" id="taxDeductible" checked> Tax Deductible</label>
                                <label><input type="checkbox" id="sendReceipt" checked> Send Receipt</label>
                                <label><input type="checkbox" id="isAnonymous"> Anonymous Donation</label>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="cancelDonationBtn">Cancel</button>
                            <button type="submit" class="btn btn-primary">Record Donation</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Donation Filters -->
            <div class="filter-bar">
                <input type="text" id="donationSearchBox" placeholder="Search donations...">
                <select id="donationStatusFilter">
                    <option value="">All Status</option>
                    <option value="completed">Completed</option>
                    <option value="pending">Pending</option>
                    <option value="processing">Processing</option>
                    <option value="failed">Failed</option>
                </select>
                <select id="paymentMethodFilter">
                    <option value="">All Payment Methods</option>
                    <option value="credit-card">Credit Card</option>
                    <option value="paypal">PayPal</option>
                    <option value="check">Check</option>
                    <option value="wire">Wire Transfer</option>
                </select>
            </div>

            <!-- Donations List -->
            <div id="donationsList" class="donations-list">
                <!-- Donations will be loaded here -->
            </div>
        </div>

        <!-- ======== TAB 3: CAMPAIGNS ======== -->
        <div id="campaigns" class="tab-content">
            <div class="tab-header">
                <h2>Campaign Management</h2>
                <button class="btn btn-primary" id="createCampaignBtn">+ Create Campaign</button>
            </div>

            <!-- Create Campaign Modal -->
            <div id="campaignModal" class="modal hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3>Create New Campaign</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <form id="campaignForm" class="donation-form">
                        <div class="form-section">
                            <h4>Campaign Basics</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Campaign Name *</label>
                                    <input type="text" id="campaignName" required>
                                </div>
                                <div class="form-group">
                                    <label>Category</label>
                                    <select id="campaignCategory">
                                        <option value="general">General</option>
                                        <option value="animal-rescue">Animal Rescue</option>
                                        <option value="habitat-conservation">Habitat Conservation</option>
                                        <option value="education">Education</option>
                                        <option value="veterinary-care">Veterinary Care</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <textarea id="campaignDescription"></textarea>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Campaign Goals & Timeline</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Goal Amount *</label>
                                    <input type="number" id="campaignGoal" min="0" step="100" required>
                                </div>
                                <div class="form-group">
                                    <label>Start Date *</label>
                                    <input type="date" id="campaignStart" required>
                                </div>
                                <div class="form-group">
                                    <label>End Date *</label>
                                    <input type="date" id="campaignEnd" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Features</h4>
                            <div class="preferences-checklist">
                                <label><input type="checkbox" id="p2pEnabled"> Enable Peer-to-Peer Fundraising</label>
                                <label><input type="checkbox" id="matchingEnabled"> Enable Matching Gift Program</label>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="cancelCampaignBtn">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Campaign</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Campaign Filters -->
            <div class="filter-bar">
                <select id="campaignStatusFilter">
                    <option value="">All Status</option>
                    <option value="draft">Draft</option>
                    <option value="active">Active</option>
                    <option value="completed">Completed</option>
                </select>
                <select id="campaignSortBy">
                    <option value="recent">Recent</option>
                    <option value="progress">Progress</option>
                    <option value="goal">Goal Amount</option>
                </select>
            </div>

            <!-- Campaigns Grid -->
            <div id="campaignsList" class="campaigns-grid">
                <!-- Campaigns will be loaded here -->
            </div>
        </div>

        <!-- ======== TAB 4: EVENTS ======== -->
        <div id="events" class="tab-content">
            <div class="tab-header">
                <h2>Fundraising Events</h2>
                <button class="btn btn-primary" id="createEventBtn">+ Create Event</button>
            </div>

            <!-- Create Event Modal -->
            <div id="eventModal" class="modal hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3>Create New Event</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <form id="eventForm" class="donation-form">
                        <div class="form-section">
                            <h4>Event Details</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Event Name *</label>
                                    <input type="text" id="eventName" required>
                                </div>
                                <div class="form-group">
                                    <label>Event Type</label>
                                    <select id="eventType">
                                        <option value="gala">Gala</option>
                                        <option value="walkathon">Walkathon</option>
                                        <option value="auction">Auction</option>
                                        <option value="dinner">Dinner</option>
                                        <option value="marathon">Marathon</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <textarea id="eventDescription"></textarea>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Event Date & Location</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Event Date *</label>
                                    <input type="date" id="eventDate" required>
                                </div>
                                <div class="form-group">
                                    <label>Start Time</label>
                                    <input type="time" id="eventStartTime">
                                </div>
                                <div class="form-group">
                                    <label>End Time</label>
                                    <input type="time" id="eventEndTime">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Venue</label>
                                <input type="text" id="eventVenue">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>City</label>
                                    <input type="text" id="eventCity">
                                </div>
                                <div class="form-group">
                                    <label>State</label>
                                    <input type="text" id="eventState">
                                </div>
                            </div>
                            <div class="preferences-checklist">
                                <label><input type="checkbox" id="virtualEvent"> Virtual Event</label>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Ticketing</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Ticket Price *</label>
                                    <input type="number" id="ticketPrice" min="0" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label>Tickets Available *</label>
                                    <input type="number" id="ticketsAvailable" min="1" required>
                                </div>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="cancelEventBtn">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Event</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Event Filters -->
            <div class="filter-bar">
                <select id="eventStatusFilter">
                    <option value="">All Status</option>
                    <option value="scheduled">Scheduled</option>
                    <option value="in-progress">In Progress</option>
                    <option value="completed">Completed</option>
                </select>
                <select id="eventTypeFilter">
                    <option value="">All Types</option>
                    <option value="gala">Gala</option>
                    <option value="walkathon">Walkathon</option>
                    <option value="auction">Auction</option>
                </select>
            </div>

            <!-- Events Grid -->
            <div id="eventsList" class="events-grid">
                <!-- Events will be loaded here -->
            </div>
        </div>

        <!-- ======== TAB 5: RECURRING DONATIONS ======== -->
        <div id="recurring" class="tab-content">
            <div class="tab-header">
                <h2>Recurring Donation Program</h2>
                <button class="btn btn-primary" id="createRecurringBtn">+ Create Monthly Sustainer</button>
            </div>

            <!-- Create Recurring Modal -->
            <div id="recurringModal" class="modal hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3>Set Up Recurring Donation</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <form id="recurringForm" class="donation-form">
                        <div class="form-section">
                            <h4>Sustainer Information</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Donor *</label>
                                    <select id="recurringDonor" required>
                                        <option value="">Select Donor</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Monthly Amount *</label>
                                    <input type="number" id="sustainerAmount" min="1" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Donation Schedule</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Frequency</label>
                                    <select id="sustainerFrequency">
                                        <option value="monthly" selected>Monthly</option>
                                        <option value="quarterly">Quarterly</option>
                                        <option value="annually">Annually</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Start Date *</label>
                                    <input type="date" id="sustainerStartDate" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Payment Method</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Payment Method *</label>
                                    <select id="sustainerPayment" required>
                                        <option value="credit-card">Credit Card</option>
                                        <option value="ach">ACH (Bank Account)</option>
                                        <option value="paypal">PayPal</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Communication</h4>
                            <div class="preferences-checklist">
                                <label><input type="checkbox" id="sendSustainerReceipts" checked> Send Monthly Receipts</label>
                                <label><input type="checkbox" id="impactReports" checked> Send Impact Reports</label>
                                <label><input type="checkbox" id="announcements" checked> Send Announcements</label>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="cancelRecurringBtn">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Sustainer</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Recurring Filters -->
            <div class="filter-bar">
                <select id="recurringStatusFilter">
                    <option value="">All Status</option>
                    <option value="active">Active</option>
                    <option value="paused">Paused</option>
                    <option value="cancelled">Cancelled</option>
                    <option value="failed">Failed</option>
                </select>
            </div>

            <!-- Recurring Donations List -->
            <div id="recurringList" class="recurring-list">
                <!-- Recurring donations will be loaded here -->
            </div>
        </div>

        <!-- ======== TAB 6: ANALYTICS ======== -->
        <div id="analytics" class="tab-content">
            <div class="tab-header">
                <h2>Fundraising Analytics & Reports</h2>
                <button class="btn btn-primary" id="exportReportBtn">üìä Export Report (CSV)</button>
            </div>

            <!-- Dashboard Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalDonors">0</div>
                    <div class="stat-label">Total Donors</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalDonationAmount">$0</div>
                    <div class="stat-label">Total Raised</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalDonationCount">0</div>
                    <div class="stat-label">Total Donations</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="averageGift">$0</div>
                    <div class="stat-label">Average Gift</div>
                </div>
            </div>

            <!-- Donor Breakdown -->
            <div class="analytics-section">
                <h3>üìà Donor Segment Breakdown</h3>
                <div id="donorSegmentChart" class="chart-container">
                    <!-- Chart will be rendered here -->
                </div>
            </div>

            <!-- Campaign Performance -->
            <div class="analytics-section">
                <h3>üéØ Active Campaign Performance</h3>
                <table class="performance-table">
                    <thead>
                        <tr>
                            <th>Campaign</th>
                            <th>Goal</th>
                            <th>Current</th>
                            <th>Progress</th>
                            <th>Donors</th>
                            <th>Days Left</th>
                        </tr>
                    </thead>
                    <tbody id="campaignPerformanceBody">
                        <!-- Campaign performance rows will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Donation Methods Breakdown -->
            <div class="analytics-section">
                <h3>üí≥ Donation Methods</h3>
                <div id="paymentMethodChart" class="chart-container">
                    <!-- Chart will be rendered here -->
                </div>
            </div>

            <!-- Monthly Giving Trends -->
            <div class="analytics-section">
                <h3>üìÖ Monthly Giving Trends</h3>
                <div id="monthlySustainers" class="sustainer-summary">
                    <!-- Monthly sustainer stats will be loaded here -->
                </div>
            </div>

            <!-- Top Donors -->
            <div class="analytics-section">
                <h3>‚≠ê Top 10 Donors</h3>
                <table class="top-donors-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Donor Name</th>
                            <th>Total Donated</th>
                            <th>Gifts</th>
                            <th>Segment</th>
                        </tr>
                    </thead>
                    <tbody id="topDonorsBody">
                        <!-- Top donors rows will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 EWOC Donation & Fundraising System. All rights reserved.</p>
    </footer>

    <script src="../js/donation-management.js"></script>
</body>
</html>
