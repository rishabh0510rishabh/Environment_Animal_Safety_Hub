<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Climate Action Challenge Hub - EcoLife</title>
    <link rel="stylesheet" href="../css/global/variables.css">
    <link rel="stylesheet" href="../css/global/utilities.css">
    <link rel="stylesheet" href="../css/components/navbar.css">
    <link rel="stylesheet" href="../css/components/footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; overflow-x: hidden; }
        
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        @keyframes glow { 0%, 100% { box-shadow: 0 0 20px rgba(255,107,53,0.3); } 50% { box-shadow: 0 0 30px rgba(255,107,53,0.6); } }
        @keyframes slideIn { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        
        .floating-particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
        .particle { position: absolute; width: 4px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 50%; animation: float 6s ease-in-out infinite; }
        .particle:nth-child(1) { left: 10%; animation-delay: 0s; }
        .particle:nth-child(2) { left: 20%; animation-delay: 1s; }
        .particle:nth-child(3) { left: 30%; animation-delay: 2s; }
        .particle:nth-child(4) { left: 40%; animation-delay: 3s; }
        .particle:nth-child(5) { left: 50%; animation-delay: 4s; }
        .particle:nth-child(6) { left: 60%; animation-delay: 5s; }
        .particle:nth-child(7) { left: 70%; animation-delay: 0.5s; }
        .particle:nth-child(8) { left: 80%; animation-delay: 1.5s; }
        .particle:nth-child(9) { left: 90%; animation-delay: 2.5s; }
        
        .challenge-header { background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%); padding: 80px 20px 40px; text-align: center; }
        .challenge-header h1 { font-size: 3rem; margin-bottom: 1rem; }
        .challenge-header p { font-size: 1.2rem; opacity: 0.9; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .challenge-nav { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 20px; margin: 20px 0; border-radius: 15px; }
        .nav-tabs { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .nav-tab { padding: 12px 24px; background: rgba(255,255,255,0.2); border: none; border-radius: 25px; color: white; cursor: pointer; transition: all 0.3s; }
        .nav-tab.active { background: #FF6B35; }
        
        .content-section { display: none; margin: 20px 0; }
        .content-section.active { display: block; }
        
        .stats-bar { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
        .stat-card { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 20px; border-radius: 15px; text-align: center; transition: all 0.3s; cursor: pointer; }
        .stat-card:hover { transform: scale(1.05); background: rgba(255,255,255,0.2); }
        .stat-number { font-size: 2.5rem; font-weight: bold; color: #FF6B35; }
        .stat-label { margin-top: 5px; opacity: 0.8; }
        
        .challenge-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin: 20px 0; }
        .challenge-card { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 15px; overflow: hidden; transition: all 0.3s; position: relative; }
        .challenge-card:hover { transform: translateY(-5px) scale(1.02); animation: glow 2s infinite; }
        .challenge-card.completed { border: 2px solid #4CAF50; }
        .challenge-card.active { border: 2px solid #FF6B35; animation: pulse 2s infinite; }
        .challenge-header-card { background: linear-gradient(45deg, #4CAF50, #45a049); padding: 20px; text-align: center; }
        .challenge-icon { font-size: 3rem; margin-bottom: 10px; }
        .challenge-content { padding: 20px; }
        .challenge-title { font-size: 1.3rem; margin-bottom: 10px; }
        .challenge-meta { display: flex; gap: 15px; margin: 10px 0; font-size: 0.9rem; opacity: 0.8; }
        .progress-bar { background: rgba(255,255,255,0.2); height: 10px; border-radius: 5px; margin: 15px 0; }
        .progress-fill { background: #FF6B35; height: 100%; border-radius: 5px; transition: width 0.3s; }
        .challenge-reward { background: rgba(255,193,7,0.2); padding: 10px; border-radius: 8px; margin: 10px 0; }
        
        .leaderboard { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 15px; padding: 20px; }
        .leaderboard-item { display: flex; align-items: center; gap: 15px; padding: 15px; margin: 10px 0; background: rgba(255,255,255,0.1); border-radius: 10px; }
        .rank { font-size: 1.5rem; font-weight: bold; color: #FF6B35; min-width: 40px; }
        .rank.gold { color: #FFD700; }
        .rank.silver { color: #C0C0C0; }
        .rank.bronze { color: #CD7F32; }
        .user-avatar { width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(45deg, #4CAF50, #45a049); display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }
        .user-info { flex: 1; }
        .user-name { font-weight: 600; }
        .user-points { color: #FF6B35; font-weight: bold; }
        
        .badge-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin: 20px 0; }
        .badge { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 20px; border-radius: 15px; text-align: center; transition: all 0.3s; cursor: pointer; position: relative; }
        .badge:hover { transform: scale(1.05) rotate(5deg); }
        .badge.earned { background: rgba(255,193,7,0.3); animation: glow 3s infinite; }
        .badge.earned::after { content: '‚úì'; position: absolute; top: 5px; right: 5px; background: #4CAF50; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; }
        .badge-icon { font-size: 2.5rem; margin-bottom: 10px; }
        .badge-name { font-size: 0.9rem; font-weight: 600; }
        .badge-desc { font-size: 0.8rem; opacity: 0.8; margin-top: 5px; }
        
        .team-card { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 20px; border-radius: 15px; margin: 15px 0; }
        .team-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .team-name { font-size: 1.2rem; font-weight: 600; }
        .team-members { display: flex; gap: 10px; margin: 10px 0; }
        .member-avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(45deg, #4CAF50, #45a049); display: flex; align-items: center; justify-content: center; font-size: 1rem; }
        
        .photo-upload { border: 2px dashed rgba(255,255,255,0.3); padding: 30px; border-radius: 10px; text-align: center; margin: 15px 0; cursor: pointer; transition: all 0.3s; }
        .photo-upload:hover { border-color: #FF6B35; background: rgba(255,107,53,0.1); }
        .photo-preview { max-width: 200px; border-radius: 10px; margin: 10px 0; }
        
        .btn { padding: 12px 24px; background: #FF6B35; color: white; border: none; border-radius: 25px; cursor: pointer; transition: all 0.3s; position: relative; overflow: hidden; }
        .btn:hover { background: #E55A2B; transform: translateY(-2px) scale(1.05); box-shadow: 0 5px 15px rgba(255,107,53,0.4); }
        .btn:active { transform: scale(0.95); }
        .btn::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; background: rgba(255,255,255,0.2); border-radius: 50%; transition: all 0.3s; transform: translate(-50%, -50%); }
        .btn:hover::before { width: 300px; height: 300px; }
        .btn-secondary { background: rgba(255,255,255,0.2); }
        .btn-secondary:hover { background: rgba(255,255,255,0.3); }
        
        @media (max-width: 768px) {
            .challenge-header h1 { font-size: 2rem; }
            .nav-tabs { justify-content: center; }
            .challenge-grid { grid-template-columns: 1fr; }
            .stats-bar { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="floating-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>
    
    <div id="navbar-container"></div>
    
    <div class="challenge-header">
        <div class="container">
            <h1><i class="fas fa-trophy"></i> Climate Action Challenge Hub</h1>
            <p>Join the global movement! Complete challenges, earn badges, and make a real environmental impact</p>
        </div>
    </div>
    
    <div class="container">
        <div class="stats-bar">
            <div class="stat-card" onclick="showDetailedStats('challengers')">
                <div class="stat-number" id="activeChallengers">2,847</div>
                <div class="stat-label">Active Challengers</div>
                <div style="font-size: 0.8rem; color: #4CAF50; margin-top: 5px;">‚Üë 12% this week</div>
            </div>
            <div class="stat-card" onclick="showDetailedStats('teams')">
                <div class="stat-number" id="activeTeams">156</div>
                <div class="stat-label">Teams Competing</div>
                <div style="font-size: 0.8rem; color: #4CAF50; margin-top: 5px;">‚Üë 8% this week</div>
            </div>
            <div class="stat-card" onclick="showDetailedStats('co2')">
                <div class="stat-number" id="co2Saved">45,230</div>
                <div class="stat-label">CO‚ÇÇ Saved (kg)</div>
                <div style="font-size: 0.8rem; color: #4CAF50; margin-top: 5px;">‚Üë 25% this month</div>
            </div>
            <div class="stat-card" onclick="showDetailedStats('points')">
                <div class="stat-number" id="userPoints">1,234</div>
                <div class="stat-label">Your Points</div>
                <div style="font-size: 0.8rem; color: #FF6B35; margin-top: 5px;">Level 6 ‚Ä¢ 766 to next</div>
            </div>
        </div>
        
        <div class="challenge-nav">
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showSection('challenges')">
                    <i class="fas fa-tasks"></i> Active Challenges
                </button>
                <button class="nav-tab" onclick="showSection('leaderboard')">
                    <i class="fas fa-crown"></i> Leaderboard
                </button>
                <button class="nav-tab" onclick="showSection('badges')">
                    <i class="fas fa-medal"></i> Achievements
                </button>
                <button class="nav-tab" onclick="showSection('teams')">
                    <i class="fas fa-users"></i> My Teams
                </button>
                <button class="nav-tab" onclick="showSection('progress')">
                    <i class="fas fa-chart-line"></i> My Progress
                </button>
            </div>
        </div>
        
        <!-- Active Challenges Section -->
        <div id="challenges" class="content-section active">
            <h2><i class="fas fa-fire"></i> This Week's Challenges</h2>
            
            <div class="challenge-grid">
                <div class="challenge-card active" data-difficulty="medium">
                    <div class="challenge-header-card">
                        <div class="challenge-icon">üö≤</div>
                        <h3>Bike to Work Week</h3>
                        <div style="position: absolute; top: 10px; right: 10px; background: #FF6B35; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">ACTIVE</div>
                    </div>
                    <div class="challenge-content">
                        <div class="challenge-meta">
                            <span><i class="fas fa-clock"></i> 5 days left</span>
                            <span><i class="fas fa-users"></i> 1,234 participants</span>
                            <span><i class="fas fa-fire"></i> Medium</span>
                        </div>
                        <p>Replace car trips with cycling for a week. Track your miles and CO‚ÇÇ savings!</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%" data-progress="60"></div>
                        </div>
                        <small>3/5 days completed ‚Ä¢ 12.5 kg CO‚ÇÇ saved</small>
                        <div class="challenge-reward">
                            <strong>Reward:</strong> 500 points + Eco Cyclist badge + üéÅ Surprise bonus
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" onclick="continueChallenge('bike-week')">Continue Challenge</button>
                            <button class="btn-secondary btn" onclick="shareChallenge('bike-week')"><i class="fas fa-share"></i></button>
                        </div>
                    </div>
                </div>
                
                <div class="challenge-card" data-difficulty="hard">
                    <div class="challenge-header-card">
                        <div class="challenge-icon">üí°</div>
                        <h3>Energy Saver Challenge</h3>
                        <div style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">NEW</div>
                    </div>
                    <div class="challenge-content">
                        <div class="challenge-meta">
                            <span><i class="fas fa-clock"></i> 12 days left</span>
                            <span><i class="fas fa-users"></i> 2,156 participants</span>
                            <span><i class="fas fa-fire"></i> Hard</span>
                        </div>
                        <p>Reduce your home energy consumption by 20% this month</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%" data-progress="0"></div>
                        </div>
                        <small>Not started ‚Ä¢ Potential: 45 kg CO‚ÇÇ savings</small>
                        <div class="challenge-reward">
                            <strong>Reward:</strong> 750 points + Energy Master badge + üí∞ $50 voucher
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn" onclick="joinChallenge('energy-saver')">Join Challenge</button>
                            <button class="btn-secondary btn" onclick="viewDetails('energy-saver')"><i class="fas fa-info"></i></button>
                        </div>
                    </div>
                </div>
                
                <div class="challenge-card completed" data-difficulty="easy">
                    <div class="challenge-header-card">
                        <div class="challenge-icon">üå±</div>
                        <h3>Plant a Tree Initiative</h3>
                        <div style="position: absolute; top: 10px; right: 10px; background: #4CAF50; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">‚úì DONE</div>
                    </div>
                    <div class="challenge-content">
                        <div class="challenge-meta">
                            <span><i class="fas fa-clock"></i> Completed</span>
                            <span><i class="fas fa-users"></i> 987 participants</span>
                            <span><i class="fas fa-fire"></i> Easy</span>
                        </div>
                        <p>Plant trees in your community and share photos of your impact</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%" data-progress="100"></div>
                        </div>
                        <small>Completed! ‚úì ‚Ä¢ 3 trees planted ‚Ä¢ 75 kg CO‚ÇÇ offset</small>
                        <div class="challenge-reward">
                            <strong>Earned:</strong> 1000 points + Tree Planter badge + üèÜ Bonus XP
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn-secondary btn">View Certificate</button>
                            <button class="btn-secondary btn" onclick="shareAchievement('tree-planter')"><i class="fas fa-trophy"></i> Share</button>
                        </div>
                    </div>
                </div>
                
                <div class="challenge-card">
                    <div class="challenge-header-card">
                        <div class="challenge-icon">‚ôªÔ∏è</div>
                        <h3>Zero Waste Week</h3>
                    </div>
                    <div class="challenge-content">
                        <div class="challenge-meta">
                            <span><i class="fas fa-clock"></i> 3 days left</span>
                            <span><i class="fas fa-users"></i> 1,567 participants</span>
                        </div>
                        <p>Minimize waste production and maximize recycling for 7 days</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                        <small>6/7 days completed</small>
                        <div class="challenge-reward">
                            <strong>Reward:</strong> 600 points + Zero Waste Hero badge
                        </div>
                        <button class="btn" onclick="joinChallenge('zero-waste')">Continue Challenge</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Leaderboard Section -->
        <div id="leaderboard" class="content-section">
            <h2><i class="fas fa-crown"></i> Global Leaderboard</h2>
            
            <div class="leaderboard">
                <div class="leaderboard-item">
                    <div class="rank gold">ü•á</div>
                    <div class="user-avatar">EW</div>
                    <div class="user-info">
                        <div class="user-name">EcoWarrior_Sarah</div>
                        <div>Level 15 ‚Ä¢ Climate Champion</div>
                    </div>
                    <div class="user-points">15,847 pts</div>
                </div>
                
                <div class="leaderboard-item">
                    <div class="rank silver">ü•à</div>
                    <div class="user-avatar">GH</div>
                    <div class="user-info">
                        <div class="user-name">GreenHero_Mike</div>
                        <div>Level 14 ‚Ä¢ Sustainability Expert</div>
                    </div>
                    <div class="user-points">14,523 pts</div>
                </div>
                
                <div class="leaderboard-item">
                    <div class="rank bronze">ü•â</div>
                    <div class="user-avatar">NL</div>
                    <div class="user-info">
                        <div class="user-name">NatureLover_Alex</div>
                        <div>Level 13 ‚Ä¢ Conservation Pro</div>
                    </div>
                    <div class="user-points">13,891 pts</div>
                </div>
                
                <div class="leaderboard-item">
                    <div class="rank">4</div>
                    <div class="user-avatar">CC</div>
                    <div class="user-info">
                        <div class="user-name">ClimateChampion_Lisa</div>
                        <div>Level 12 ‚Ä¢ Eco Activist</div>
                    </div>
                    <div class="user-points">12,456 pts</div>
                </div>
                
                <div class="leaderboard-item">
                    <div class="rank">5</div>
                    <div class="user-avatar">ST</div>
                    <div class="user-info">
                        <div class="user-name">SustainableLife_Tom</div>
                        <div>Level 11 ‚Ä¢ Green Living Expert</div>
                    </div>
                    <div class="user-points">11,234 pts</div>
                </div>
                
                <div class="leaderboard-item" style="background: rgba(255,107,53,0.2);">
                    <div class="rank">47</div>
                    <div class="user-avatar">YU</div>
                    <div class="user-info">
                        <div class="user-name">You</div>
                        <div>Level 6 ‚Ä¢ Rising Eco Warrior</div>
                    </div>
                    <div class="user-points">1,234 pts</div>
                </div>
            </div>
        </div>
        
        <!-- Achievements Section -->
        <div id="badges" class="content-section">
            <h2><i class="fas fa-medal"></i> Achievement Badges</h2>
            
            <div class="badge-grid">
                <div class="badge earned">
                    <div class="badge-icon">üå±</div>
                    <div class="badge-name">Tree Planter</div>
                    <div class="badge-desc">Planted 5+ trees</div>
                </div>
                
                <div class="badge earned">
                    <div class="badge-icon">üö≤</div>
                    <div class="badge-name">Eco Cyclist</div>
                    <div class="badge-desc">Biked 100+ miles</div>
                </div>
                
                <div class="badge earned">
                    <div class="badge-icon">‚ôªÔ∏è</div>
                    <div class="badge-name">Recycling Pro</div>
                    <div class="badge-desc">Recycled 50+ items</div>
                </div>
                
                <div class="badge">
                    <div class="badge-icon">üí°</div>
                    <div class="badge-name">Energy Master</div>
                    <div class="badge-desc">Save 500 kWh</div>
                </div>
                
                <div class="badge">
                    <div class="badge-icon">üåä</div>
                    <div class="badge-name">Water Saver</div>
                    <div class="badge-desc">Conserve 1000L water</div>
                </div>
                
                <div class="badge">
                    <div class="badge-icon">üèÜ</div>
                    <div class="badge-name">Climate Champion</div>
                    <div class="badge-desc">Complete 20 challenges</div>
                </div>
                
                <div class="badge">
                    <div class="badge-icon">üë•</div>
                    <div class="badge-name">Team Leader</div>
                    <div class="badge-desc">Lead 5 team challenges</div>
                </div>
                
                <div class="badge">
                    <div class="badge-icon">üì∏</div>
                    <div class="badge-name">Impact Documenter</div>
                    <div class="badge-desc">Share 25 progress photos</div>
                </div>
            </div>
        </div>
        
        <!-- Teams Section -->
        <div id="teams" class="content-section">
            <h2><i class="fas fa-users"></i> My Teams</h2>
            
            <div class="team-card">
                <div class="team-header">
                    <div class="team-name">üåç Global Climate Warriors</div>
                    <div class="user-points">Rank #3</div>
                </div>
                <p>Fighting climate change one challenge at a time!</p>
                <div class="team-members">
                    <div class="member-avatar">S</div>
                    <div class="member-avatar">M</div>
                    <div class="member-avatar">A</div>
                    <div class="member-avatar">L</div>
                    <div class="member-avatar">+12</div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Current Challenge:</strong> Corporate Carbon Reduction
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                </div>
                <button class="btn">View Team Progress</button>
            </div>
            
            <div class="team-card">
                <div class="team-header">
                    <div class="team-name">üè¢ Office Green Team</div>
                    <div class="user-points">Rank #8</div>
                </div>
                <p>Making our workplace more sustainable</p>
                <div class="team-members">
                    <div class="member-avatar">J</div>
                    <div class="member-avatar">K</div>
                    <div class="member-avatar">R</div>
                    <div class="member-avatar">+5</div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Current Challenge:</strong> Office Energy Reduction
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 45%"></div>
                    </div>
                </div>
                <button class="btn">View Team Progress</button>
            </div>
            
            <button class="btn" style="margin-top: 20px;">
                <i class="fas fa-plus"></i> Create New Team
            </button>
        </div>
        
        <!-- Progress Section -->
        <div id="progress" class="content-section">
            <h2><i class="fas fa-chart-line"></i> My Progress Tracking</h2>
            
            <div class="challenge-card">
                <div class="challenge-content">
                    <h3>Upload Progress Photo</h3>
                    <div class="photo-upload" onclick="document.getElementById('photoInput').click()">
                        <i class="fas fa-camera" style="font-size: 2rem; margin-bottom: 10px;"></i>
                        <p>Click to upload your challenge progress photo</p>
                        <input type="file" id="photoInput" accept="image/*" style="display: none;" onchange="previewPhoto(this)">
                    </div>
                    <div id="photoPreview"></div>
                    
                    <h3 style="margin-top: 30px;">Impact Summary</h3>
                    <div class="stats-bar">
                        <div class="stat-card">
                            <div class="stat-number">45</div>
                            <div class="stat-label">Challenges Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">2.3</div>
                            <div class="stat-label">Tons CO‚ÇÇ Saved</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">156</div>
                            <div class="stat-label">Trees Planted</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">89</div>
                            <div class="stat-label">Days Active</div>
                        </div>
                    </div>
                    
                    <button class="btn">
                        <i class="fas fa-share"></i> Share My Impact
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="footer-container"></div>
    
    <script>
        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }
        
        // Enhanced challenge actions with real-time updates
        function joinChallenge(challengeId) {
            const challenges = {
                'bike-week': 'Bike to Work Week',
                'energy-saver': 'Energy Saver Challenge',
                'zero-waste': 'Zero Waste Week'
            };
            
            // Simulate joining with animation
            const card = event.target.closest('.challenge-card');
            card.style.transform = 'scale(1.1)';
            setTimeout(() => card.style.transform = '', 300);
            
            // Update stats
            updateStats();
            showNotification(`üéØ Joined ${challenges[challengeId]}! Your journey begins now! +50 XP`);
        }
        
        function continueChallenge(challengeId) {
            showNotification('üìà Challenge progress updated! Keep going! +25 XP');
            // Simulate progress update
            setTimeout(() => {
                const progressBar = event.target.closest('.challenge-card').querySelector('.progress-fill');
                const currentProgress = parseInt(progressBar.dataset.progress);
                const newProgress = Math.min(currentProgress + 10, 100);
                progressBar.style.width = newProgress + '%';
                progressBar.dataset.progress = newProgress;
            }, 500);
        }
        
        function shareChallenge(challengeId) {
            if (navigator.share) {
                navigator.share({
                    title: 'Join my Climate Challenge!',
                    text: 'I\'m taking climate action! Join me in this challenge.',
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(window.location.href);
                showNotification('üîó Challenge link copied! Share with friends! +10 XP');
            }
        }
        
        function shareAchievement(badgeId) {
            showNotification('üèÜ Achievement shared! Inspiring others! +15 XP');
        }
        
        function viewDetails(challengeId) {
            showNotification('üìã Challenge details opened!');
        }
        
        function showDetailedStats(type) {
            const messages = {
                'challengers': 'üë• 2,847 eco-warriors are actively making a difference!',
                'teams': 'üè¢ 156 teams competing globally for climate action!',
                'co2': 'üåç 45,230 kg CO‚ÇÇ saved - equivalent to planting 2,000 trees!',
                'points': '‚≠ê You\'re at Level 6! 766 points to reach Level 7 Climate Champion!'
            };
            showNotification(messages[type]);
        }
        
        // Real-time stats updates
        function updateStats() {
            const stats = {
                activeChallengers: document.getElementById('activeChallengers'),
                activeTeams: document.getElementById('activeTeams'),
                co2Saved: document.getElementById('co2Saved'),
                userPoints: document.getElementById('userPoints')
            };
            
            // Simulate real-time updates
            setInterval(() => {
                stats.activeChallengers.textContent = (parseInt(stats.activeChallengers.textContent.replace(',', '')) + Math.floor(Math.random() * 3)).toLocaleString();
                stats.co2Saved.textContent = (parseInt(stats.co2Saved.textContent.replace(',', '')) + Math.floor(Math.random() * 10)).toLocaleString();
            }, 30000); // Update every 30 seconds
        }
        
        // Enhanced notification system with XP tracking
        let totalXP = 1234;
        function showNotification(message) {
            // Extract XP from message
            const xpMatch = message.match(/\+(\d+) XP/);
            if (xpMatch) {
                totalXP += parseInt(xpMatch[1]);
                document.getElementById('userPoints').textContent = totalXP.toLocaleString();
            }
            
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed; top: 20px; right: 20px; z-index: 1000;
                background: linear-gradient(135deg, #FF6B35, #F7931E); color: white; padding: 15px 20px;
                border-radius: 15px; box-shadow: 0 8px 25px rgba(255,107,53,0.4);
                transform: translateX(100%) scale(0.8); transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                max-width: 300px; backdrop-filter: blur(10px);
            `;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div style="font-size: 1.2rem;">${message.includes('üéØ') ? 'üéØ' : message.includes('üìà') ? 'üìà' : message.includes('üîó') ? 'üîó' : message.includes('üèÜ') ? 'üèÜ' : '‚ú®'}</div>
                    <div>${message}</div>
                </div>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(0) scale(1)';
            }, 100);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%) scale(0.8)';
                setTimeout(() => notification.remove(), 400);
            }, 4000);
        }
        
        // Photo upload
        function previewPhoto(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('photoPreview');
                    preview.innerHTML = `
                        <img src="${e.target.result}" class="photo-preview" alt="Progress photo">
                        <p>Great progress! Your photo has been uploaded.</p>
                        <button class="btn">Submit Progress</button>
                    `;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        // Notification system
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed; top: 20px; right: 20px; z-index: 1000;
                background: #FF6B35; color: white; padding: 15px 20px;
                border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                transform: translateX(100%); transition: transform 0.3s;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => notification.style.transform = 'translateX(0)', 100);
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // Load navbar and footer with enhanced loading
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize real-time updates
            updateStats();
            
            // Animate elements on load
            const cards = document.querySelectorAll('.challenge-card, .stat-card, .badge');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
            
            // Load components
            fetch('../components/navbar.html')
                .then(response => response.text())
                .then(data => document.getElementById('navbar-container').innerHTML = data)
                .catch(error => console.log('Navbar loading failed'));
            
            fetch('../components/footer.html')
                .then(response => response.text())
                .then(data => document.getElementById('footer-container').innerHTML = data)
                .catch(error => console.log('Footer loading failed'));
                
            // Welcome message for new users
            setTimeout(() => {
                showNotification('üåü Welcome to Climate Action Hub! Start your first challenge! +10 XP');
            }, 2000);
        });
    </script>
</body>
</html>