<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make a Donation - EWOC</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/payment-form.css">
    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=USD&intent=capture"></script>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-brand">
                <h1>üíö Make a Donation</h1>
            </div>
            <ul class="nav-links">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="donation-management.html">Donation Management</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div class="donation-form-container">
            <!-- Progress Steps -->
            <div class="donation-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Amount</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Details</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Payment</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-label">Complete</div>
                </div>
            </div>

            <!-- Step 1: Select Amount -->
            <div class="step-content active" id="step-1">
                <h2>Choose Your Donation Amount</h2>
                
                <!-- Donation Type -->
                <div class="donation-type-selector">
                    <button class="type-btn active" data-type="one-time">
                        <span class="icon">üí≥</span>
                        <span>One-Time</span>
                    </button>
                    <button class="type-btn" data-type="monthly">
                        <span class="icon">üîÑ</span>
                        <span>Monthly</span>
                    </button>
                    <button class="type-btn" data-type="annual">
                        <span class="icon">üìÖ</span>
                        <span>Annual</span>
                    </button>
                </div>

                <!-- Giving Level Presets -->
                <div class="giving-levels">
                    <div class="giving-level-card" data-amount="25">
                        <div class="amount">$25</div>
                        <div class="impact">Feeds 5 animals for a day</div>
                    </div>
                    <div class="giving-level-card" data-amount="50">
                        <div class="amount">$50</div>
                        <div class="impact">Provides medical care for 1 animal</div>
                    </div>
                    <div class="giving-level-card active" data-amount="100">
                        <div class="amount">$100</div>
                        <div class="impact">Supports 1 animal for a week</div>
                        <div class="popular-badge">Most Popular</div>
                    </div>
                    <div class="giving-level-card" data-amount="250">
                        <div class="amount">$250</div>
                        <div class="impact">Sponsors an endangered species</div>
                    </div>
                    <div class="giving-level-card" data-amount="500">
                        <div class="amount">$500</div>
                        <div class="impact">Funds habitat restoration</div>
                    </div>
                    <div class="giving-level-card" data-amount="1000">
                        <div class="amount">$1000</div>
                        <div class="impact">Major conservation impact</div>
                    </div>
                </div>

                <!-- Custom Amount -->
                <div class="custom-amount-section">
                    <label>
                        <input type="radio" name="amount-type" value="custom">
                        <span>Or enter a custom amount</span>
                    </label>
                    <div class="custom-amount-input">
                        <span class="currency-symbol">$</span>
                        <input type="number" id="customAmount" placeholder="Enter amount" min="1" step="0.01">
                    </div>
                </div>

                <!-- Impact Display -->
                <div class="impact-display" id="impactDisplay">
                    <h3>Your Impact:</h3>
                    <ul id="impactList"></ul>
                </div>

                <button class="btn btn-primary btn-lg" onclick="goToStep(2)">Continue</button>
            </div>

            <!-- Step 2: Donor Details -->
            <div class="step-content" id="step-2">
                <h2>Your Information</h2>

                <form id="donorForm" class="donation-form">
                    <!-- Personal Information -->
                    <div class="form-section">
                        <h3>Personal Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="donorName">Full Name *</label>
                                <input type="text" id="donorName" required>
                            </div>
                            <div class="form-group">
                                <label for="donorEmail">Email Address *</label>
                                <input type="email" id="donorEmail" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="donorPhone">Phone Number</label>
                                <input type="tel" id="donorPhone">
                            </div>
                            <div class="form-group">
                                <label for="donorCompany">Company (Optional)</label>
                                <input type="text" id="donorCompany">
                            </div>
                        </div>
                    </div>

                    <!-- Address -->
                    <div class="form-section">
                        <h3>Address</h3>
                        <div class="form-group">
                            <label for="donorAddress">Street Address</label>
                            <input type="text" id="donorAddress">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="donorCity">City</label>
                                <input type="text" id="donorCity">
                            </div>
                            <div class="form-group">
                                <label for="donorState">State</label>
                                <input type="text" id="donorState">
                            </div>
                            <div class="form-group">
                                <label for="donorZip">ZIP Code</label>
                                <input type="text" id="donorZip">
                            </div>
                        </div>
                    </div>

                    <!-- Donation Purpose -->
                    <div class="form-section">
                        <h3>Donation Purpose</h3>
                        <div class="form-group">
                            <label for="donationPurpose">Select Purpose</label>
                            <select id="donationPurpose">
                                <option value="general">General Fund</option>
                                <option value="wildlife-rescue">Wildlife Rescue</option>
                                <option value="habitat-conservation">Habitat Conservation</option>
                                <option value="education">Education Programs</option>
                                <option value="medical-care">Medical Care</option>
                                <option value="memorial">In Memory Of</option>
                                <option value="tribute">In Honor Of</option>
                            </select>
                        </div>

                        <!-- Tribute/Memorial Section -->
                        <div id="tributeSection" style="display: none;">
                            <div class="form-group">
                                <label for="honoreeName">Honoree Name *</label>
                                <input type="text" id="honoreeName">
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="notifyHonoree">
                                    Send notification to honoree or family
                                </label>
                            </div>
                            <div id="honoreeNotification" style="display: none;">
                                <div class="form-group">
                                    <label for="honoreeEmail">Recipient Email</label>
                                    <input type="email" id="honoreeEmail">
                                </div>
                                <div class="form-group">
                                    <label for="honoreeMessage">Personal Message</label>
                                    <textarea id="honoreeMessage" rows="3"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Anonymous Option -->
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="anonymousDonation">
                                Make this an anonymous donation
                            </label>
                        </div>

                        <!-- Comments -->
                        <div class="form-group">
                            <label for="donorComments">Comments or Special Instructions</label>
                            <textarea id="donorComments" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="goToStep(1)">Back</button>
                        <button type="button" class="btn btn-primary" onclick="goToStep(3)">Continue to Payment</button>
                    </div>
                </form>
            </div>

            <!-- Step 3: Payment -->
            <div class="step-content" id="step-3">
                <h2>Payment Information</h2>

                <!-- Payment Method Selection -->
                <div class="payment-method-selector">
                    <button class="payment-method-btn active" data-method="stripe">
                        <span class="icon">üí≥</span>
                        <span>Credit/Debit Card</span>
                    </button>
                    <button class="payment-method-btn" data-method="paypal">
                        <span class="icon">üÖøÔ∏è</span>
                        <span>PayPal</span>
                    </button>
                </div>

                <!-- Saved Payment Methods (for returning donors) -->
                <div id="savedPaymentMethods" style="display: none;">
                    <h3>One-Click Donation</h3>
                    <p>Use a saved payment method for faster checkout:</p>
                    <div id="savedMethodsList"></div>
                    <p><a href="#" onclick="showNewPaymentMethod(); return false;">Or use a new payment method</a></p>
                </div>

                <!-- Stripe Payment Form -->
                <div id="stripePaymentForm" class="payment-form-section">
                    <h3>Card Details</h3>
                    <div id="card-element" class="card-element"></div>
                    <div id="card-errors" class="payment-errors"></div>

                    <!-- Save Card Option -->
                    <div class="form-group" id="saveCardOption" style="display: none;">
                        <label>
                            <input type="checkbox" id="saveCard">
                            Save card for future donations (faster checkout)
                        </label>
                    </div>
                </div>

                <!-- PayPal Payment Form -->
                <div id="paypalPaymentForm" class="payment-form-section" style="display: none;">
                    <p>Click the PayPal button below to complete your donation securely through PayPal.</p>
                    <div id="paypal-button-container"></div>
                </div>

                <!-- Donation Summary -->
                <div class="donation-summary">
                    <h3>Donation Summary</h3>
                    <div class="summary-row">
                        <span>Donation Type:</span>
                        <span id="summaryType">One-Time</span>
                    </div>
                    <div class="summary-row">
                        <span>Amount:</span>
                        <span id="summaryAmount">$100.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Purpose:</span>
                        <span id="summaryPurpose">General Fund</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total:</span>
                        <span id="summaryTotal">$100.00</span>
                    </div>
                </div>

                <!-- Terms -->
                <div class="payment-terms">
                    <label>
                        <input type="checkbox" id="agreeTerms" required>
                        I agree to the <a href="#" target="_blank">Terms and Conditions</a> and <a href="#" target="_blank">Privacy Policy</a>
                    </label>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="goToStep(2)">Back</button>
                    <button type="button" class="btn btn-primary btn-lg" id="submitPayment">
                        <span id="paymentButtonText">Complete Donation</span>
                        <span id="paymentButtonAmount"></span>
                    </button>
                </div>

                <!-- Security Badge -->
                <div class="security-badge">
                    <span class="icon">üîí</span>
                    <span>Secure payment powered by Stripe and PayPal</span>
                </div>
            </div>

            <!-- Step 4: Confirmation -->
            <div class="step-content" id="step-4">
                <div class="confirmation-content">
                    <div class="success-icon">‚úì</div>
                    <h2>Thank You for Your Generous Donation!</h2>
                    <p class="lead">Your support helps us protect wildlife and preserve our environment.</p>
                    
                    <div class="confirmation-details">
                        <h3>Donation Details</h3>
                        <div class="detail-row">
                            <span>Transaction ID:</span>
                            <span id="confirmTransactionId">-</span>
                        </div>
                        <div class="detail-row">
                            <span>Amount:</span>
                            <span id="confirmAmount">-</span>
                        </div>
                        <div class="detail-row">
                            <span>Date:</span>
                            <span id="confirmDate">-</span>
                        </div>
                        <div class="detail-row">
                            <span>Receipt Email:</span>
                            <span id="confirmEmail">-</span>
                        </div>
                    </div>

                    <div class="next-steps">
                        <h3>What's Next?</h3>
                        <ul>
                            <li>üìß A receipt has been sent to your email</li>
                            <li>üéØ Your donation will be used for: <span id="confirmPurpose">-</span></li>
                            <li>üìä Track your impact on your donor dashboard</li>
                            <li>üíå You'll receive updates on how your donation is making a difference</li>
                        </ul>
                    </div>

                    <div class="social-share">
                        <h3>Share Your Support</h3>
                        <p>Inspire others to make a difference!</p>
                        <div class="share-buttons">
                            <button class="share-btn facebook" onclick="shareOnFacebook()">
                                <span class="icon">üìò</span> Facebook
                            </button>
                            <button class="share-btn twitter" onclick="shareOnTwitter()">
                                <span class="icon">üê¶</span> Twitter
                            </button>
                            <button class="share-btn linkedin" onclick="shareOnLinkedIn()">
                                <span class="icon">üíº</span> LinkedIn
                            </button>
                        </div>
                    </div>

                    <div class="form-actions">
                        <a href="../../index.html" class="btn btn-primary">Return to Home</a>
                        <a href="donation-management.html" class="btn btn-secondary">View All Donations</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/payment-processor.js"></script>
    <script src="../js/donation-form.js"></script>
</body>
</html>
