class BaseQuiz{constructor(config){this.config=config;this.questions=config.questions;this.timeLimit=config.timeLimit;this.progressKey=config.progressKey;this.iconClass=config.iconClass;this.elements=config.elements;// Quiz state this.index=0;this.score=0;this.time=this.timeLimit;this.timer=null;this.answers=[];}initializeQuiz(){// Check for existing progress if(this.loadProgress()){const resumeSection=document.getElementById('resumeSection');if(resumeSection){resumeSection.style.display='block';}}}startQuiz(){// Clear existing progress this.clearProgress();// Reset state this.index=0;this.score=0;this.time=this.timeLimit;this.answers=new Array(this.questions.length).fill(null);// Transition screens this.elements.startScreen.style.display="none";this.elements.quizScreen.style.display="block";// Load first question and start timer this.loadQuestion();this.startTimer();}resumeQuiz(){if(this.loadProgress()){// Transition to quiz screen this.elements.startScreen.style.display="none";this.elements.quizScreen.style.display="block";// Load current question and resume timer this.loadQuestion();this.startTimer();}}startTimer(){this.updateTime();this.timer=setInterval(()=>{this.time--;this.updateTime();if(this.time <=0){this.showResult();}},1000);}updateTime(){let minutes=Math.floor(this.time / 60);let seconds=this.time % 60;this.elements.timeEl.textContent=`${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;}loadQuestion(){let currentQuestion=this.questions[this.index];// Update progress text if element exists if(this.elements.progressText){this.elements.progressText.textContent=`Question ${this.index+1}of ${this.questions.length}`;}// Update progress bar if element exists if(this.elements.progressFill){const progressPercent=((this.index+1)/ this.questions.length)* 100;this.elements.progressFill.style.width=`${progressPercent}%`;}// Display question this.elements.questionEl.textContent=`Q${this.index+1}. ${currentQuestion.q}`;// Clear previous options this.elements.optionsEl.innerHTML="";// Create option elements currentQuestion.o.forEach((optionText,optionIndex)=>{let optionDiv=document.createElement("div");optionDiv.className="option";// Add icon and option text optionDiv.innerHTML=`<i class="${this.iconClass}"></i> ${optionText}`;// Click handler optionDiv.onclick=()=> this.selectOption(optionDiv,optionIndex);// Restore previous selection if(this.answers[this.index]===optionIndex){optionDiv.classList.add("selected");}this.elements.optionsEl.appendChild(optionDiv);});}selectOption(element,optionIndex){// Remove previous selection document.querySelectorAll(".option").forEach(option=> option.classList.remove("selected"));// Highlight selected option element.classList.add("selected");// Store answer this.answers[this.index]=optionIndex;// Store correctness for validation element.dataset.correct=(optionIndex===this.questions[this.index].a).toString();// Save progress this.saveProgress();}nextQuestion(){let selectedOption=document.querySelector(".option.selected");// Require selection if(!selectedOption){alert("Please select an option ðŸ˜Š");return;}// Update score if(selectedOption.dataset.correct==="true"){this.score++;}// Move to next question or show results this.index++;if(this.index < this.questions.length){this.loadQuestion();}else{this.showResult();}}showResult(){// Stop timer and clear progress clearInterval(this.timer);this.clearProgress();// Transition screens this.elements.quizScreen.style.display="none";this.elements.resultScreen.style.display="block";// Display score this.elements.scoreEl.textContent=`${this.score}/${this.questions.length}`;// Performance-based remark let remark="";if(this.score >=8){remark="ðŸŒŸ Excellent!";}else if(this.score >=5){remark="ðŸ‘ Good Effort!";}else{remark="ðŸŒ± Keep Learning!";}if(this.elements.remarkEl){this.elements.remarkEl.textContent=remark;}}saveProgress(){const progress={currentIndex: this.index,answers: this.answers,score: this.score,remainingTime: this.time,timestamp: Date.now(),quizId: this.progressKey};localStorage.setItem(this.progressKey,JSON.stringify(progress));}loadProgress(){const saved=localStorage.getItem(this.progressKey);if(saved){const progress=JSON.parse(saved);this.index=progress.currentIndex || 0;this.answers=progress.answers || [];this.score=progress.score || 0;this.time=progress.remainingTime || this.timeLimit;return true;}return false;}clearProgress(){localStorage.removeItem(this.progressKey);}}// Export for use in other files if(typeof module !=='undefined' && module.exports){module.exports=BaseQuiz;}