//=====QUIZ QUESTION DATABASE=====const questions=[{q: "What is the most effective way to reduce water usage at home?",o: ["Leave the tap running","Turn off tap","Use more water","Wash hands again"],a: 1},{q: "When is the best time to water plants?",o: ["Afternoon","Midnight","Early morning","Anytime"],a: 2},{q: "Which uses less water?",o: ["Running hose","Bucket of water","Daily car wash","Overflow tank"],a: 1},{q: "Why should we save water?",o: ["Water is unlimited","Water is expensive only","Fresh water is limited","It looks good"],a: 2}];//=====QUIZ STATE MANAGEMENT=====let index=0;// Current question index let score=0;// Correct answers count let answers=[];// User's selected answers //=====PROGRESS PERSISTENCE=====const PROGRESS_KEY='waterConservationQuizProgress';function saveProgress(){const progress={currentIndex: index,answers: answers,score: score,timestamp: Date.now(),quizId: 'water-conservation-quiz'};localStorage.setItem(PROGRESS_KEY,JSON.stringify(progress));}function loadProgress(){const saved=localStorage.getItem(PROGRESS_KEY);if(saved){const progress=JSON.parse(saved);index=progress.currentIndex || 0;answers=progress.answers || [];score=progress.score || 0;return true;}return false;}function clearProgress(){localStorage.removeItem(PROGRESS_KEY);}//=====DOM ELEMENT REFERENCES=====const readyScreen=document.getElementById("readyScreen");const quizScreen=document.getElementById("quizScreen");const questionEl=document.getElementById("question");const optionsButtons=document.querySelectorAll(".option-btn");const feedbackEl=document.getElementById("feedback");const scoreEl=document.getElementById("score");const nextBtn=document.getElementById("nextBtn");const startBtn=document.getElementById("startQuizBtn");//=====QUIZ INITIALIZATION=====function initializeQuiz(){// Check for existing progress on page load if(loadProgress()){const resumeSection=document.getElementById('resumeSection');if(resumeSection){resumeSection.style.display='block';}}}// Call initialization when DOM is loaded document.addEventListener('DOMContentLoaded',initializeQuiz);function startQuiz(){// Clear any existing progress when starting new quiz clearProgress();// Reset quiz state index=0;score=0;answers=new Array(questions.length).fill(null);// Transition to quiz screen readyScreen.classList.add("hidden");quizScreen.classList.remove("hidden");// Load first question loadQuestion();}//=====QUESTION DISPLAY=====function loadQuestion(){feedbackEl.textContent="";nextBtn.disabled=true;// Update progress metrics const progressText=document.querySelector('.progress-metrics span:first-child');if(progressText){progressText.textContent=`Question: ${index+1}/${questions.length}`;}const questionsCompleted=document.querySelector('.progress-metrics span:last-child');if(questionsCompleted){questionsCompleted.textContent=`Score: ${score}`;}// Update progress bar const progressFill=document.getElementById('progressFill');if(progressFill){const progressPercent=((index+1)/ questions.length)* 100;progressFill.style.width=`${progressPercent}%`;}const currentQuestion=questions[index];questionEl.textContent=currentQuestion.q;optionsButtons.forEach((button,idx)=>{button.textContent=currentQuestion.o[idx];button.disabled=false;button.style.backgroundColor="#e8f5e9";// Restore previous selection if navigating back if(answers[index]===idx){button.style.backgroundColor="#a5d6a7";button.disabled=true;nextBtn.disabled=false;}});}//=====ANSWER SELECTION=====optionsButtons.forEach((btn,idx)=>{btn.addEventListener("click",()=>{const correctIdx=questions[index].a;optionsButtons.forEach(b=> b.disabled=true);// Store user's answer answers[index]=idx;if(idx===correctIdx){score++;btn.style.background="#a5d6a7";feedbackEl.textContent="âœ… Correct!";feedbackEl.style.color="green";}else{btn.style.background="#ef9a9a";feedbackEl.textContent="âŒ Not quite right";feedbackEl.style.color="red";}scoreEl.textContent=score;nextBtn.disabled=false;// Save progress after each answer selection saveProgress();});});//=====QUESTION NAVIGATION=====nextBtn.addEventListener("click",()=>{// Save progress after moving to next question saveProgress();index++;if(index < questions.length){loadQuestion();}else{showResult();}});//=====QUIZ RESUME FUNCTIONALITY=====function resumeSavedQuiz(){if(loadProgress()){// Transition to quiz screen readyScreen.classList.add("hidden");quizScreen.classList.remove("hidden");// Load current question loadQuestion();}}//=====RESULTS DISPLAY=====function showResult(){// Clear saved progress clearProgress();questionEl.textContent="ðŸŽ‰ Quiz Completed!";document.querySelector(".options").style.display="none";nextBtn.style.display="none";feedbackEl.textContent=`Final score ${score}/${questions.length}`;feedbackEl.style.color="#2e7d32";// Show performance-based remark if(score >=3){feedbackEl.textContent+="-ðŸŒŸ Water Conservation Expert!";}else if(score >=2){feedbackEl.textContent+="-ðŸ‘ Good Job!";}else{feedbackEl.textContent+="-ðŸ’§ Keep Learning!";}}//=====EVENT LISTENERS=====startBtn.addEventListener("click",startQuiz);