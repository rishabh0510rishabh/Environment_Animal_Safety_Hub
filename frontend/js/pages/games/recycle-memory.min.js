//=====ENVIRONMENTAL EDUCATION DATABASE=====const ecoData=[{emoji: '🌱',fact: "A single tree can absorb 48 pounds of CO2 per year!"},{emoji: '♻️',fact: "Recycling one aluminum can saves enough energy to run a TV for 3 hours."},{emoji: '🔋',fact: "Batteries contain heavy metals;always recycle them at special points!"},{emoji: '🌍',fact: "Earth's oceans provide 50% of our planet's oxygen."},{emoji: '🦄',fact: "Plastic takes up to 450 years to decompose in a landfill."},{emoji: '🌳',fact: "Forests are home to over 80% of terrestrial biodiversity."},{emoji: '📦',fact: "Recycling paper saves 70% less energy than making it from raw wood."},{emoji: '💡',fact: "LED bulbs use 75% less energy than traditional ones."},{emoji: '👕',fact: "It takes 2,700 liters of water to make just one cotton t-shirt."},{emoji: '🚲',fact: "Cycling instead of driving saves 150g of CO2 per kilometer."},{emoji: '💧',fact: "Only 1% of the world's water is fresh and accessible for us to drink."},{emoji: '🐝',fact: "Bees pollinate 1/3 of the food we eat every day!"},{emoji: '🐢',fact: "Sea turtles often mistake plastic bags for jellyfish food."},{emoji: '☀️',fact: "The sun provides more energy in one hour than the world uses in a year."},{emoji: '🐋',fact: "Blue whales can eat up to 4 tons of krill daily!"}];//=====GAME STATE MANAGEMENT=====let flippedCards=[];// Cards currently flipped for matching let matchedCount=0;// Number of matched pairs(0-8)let flips=0;// Total card flips counter let seconds=0;// Game timer in seconds let timerInterval=null;// Timer interval reference let isLocked=false;// Lock state during animations //=====GAME INITIALIZATION=====function initGame(){const board=document.getElementById('gameBoard');board.innerHTML='';// Select 8 random facts from the database for variety const selectedData=[...ecoData] .sort(()=> Math.random()-0.5).slice(0,8);// Create pairs and shuffle the deck const gameItems=[...selectedData,...selectedData] .sort(()=> Math.random()-0.5);// Generate card elements gameItems.forEach(item=>{const card=document.createElement('div');card.className='card';card.innerHTML=` <div class="card-inner"> <div class="card-face card-back"></div> <div class="card-face card-front">${item.emoji}</div> </div> `;// Store data for matching logic card.dataset.emoji=item.emoji;card.dataset.fact=item.fact;// Add click handler card.addEventListener('click',()=> handleFlip(card));board.appendChild(card);});}//=====CARD INTERACTION=====function handleFlip(card){// Prevent interaction if game is locked or card is already flipped/matched if(isLocked || card.classList.contains('flipped')|| card.classList.contains('matched')){return;}// Start timer on first flip if(!timerInterval){startTimer();}// Flip the card card.classList.add('flipped');flippedCards.push(card);// Check for match when two cards are flipped if(flippedCards.length===2){flips++;document.getElementById('flips').textContent=flips;isLocked=true;checkMatch();}}//=====MATCH VALIDATION=====function checkMatch(){const [card1,card2]=flippedCards;if(card1.dataset.emoji===card2.dataset.emoji){// Successful match card1.classList.add('matched');card2.classList.add('matched');// Play match sound document.getElementById('matchSound').play();// Display educational fact document.getElementById('factText').textContent=card1.dataset.fact;// Update match counter matchedCount++;document.getElementById('matches').textContent=matchedCount;// Reset flipped cards array flippedCards=[];isLocked=false;// Check for game completion if(matchedCount===8){setTimeout(endGame,500);}}else{// No match-flip cards back after delay setTimeout(()=>{card1.classList.remove('flipped');card2.classList.remove('flipped');flippedCards=[];isLocked=false;},800);}}//=====TIMER MANAGEMENT=====function startTimer(){timerInterval=setInterval(()=>{seconds++;document.getElementById('timer').textContent=seconds;},1000);}//=====GAME COMPLETION=====function endGame(){// Stop the timer clearInterval(timerInterval);// Display victory modal with final statistics const modal=document.getElementById('gameOverModal');const finalTime=document.getElementById('finalTime');const finalFlips=document.getElementById('finalFlips');// Update modal content(with null checks for safety)if(finalTime)finalTime.textContent=seconds;if(finalFlips)finalFlips.textContent=flips;if(modal)modal.classList.add('active');}//=====EVENT LISTENERS=====// Reset button-Reload the page for new game document.getElementById('resetBtn').addEventListener('click',()=> location.reload());// Modal reset button-Also reloads for new game document.getElementById('modalResetBtn').addEventListener('click',()=> location.reload());//=====GAME STARTUP=====initGame();