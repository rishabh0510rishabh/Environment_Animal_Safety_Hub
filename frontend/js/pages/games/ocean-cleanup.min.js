//=====OCEAN CLEANUP GAME CLASS=====class OceanCleanupGame{constructor(){//=====GAME STATE=====this.score=0;this.lives=3;this.level=1;this.cleaned=0;this.gameActive=false;this.gamePaused=false;this.levelProgress=0;this.accuracy=0;this.totalClicks=0;this.correctClicks=0;//=====GAME ELEMENTS ARRAYS=====this.trashItems=[];this.seaCreatures=[];this.powerUps=[];this.activePowerUps=[];//=====DOM ELEMENT REFERENCES=====this.gameArea=document.getElementById('oceanScene');this.scoreElement=document.getElementById('score');this.livesElement=document.getElementById('lives');this.levelElement=document.getElementById('level');this.cleanedElement=document.getElementById('cleaned');this.levelProgressElement=document.getElementById('levelProgress');this.progressPercentElement=document.getElementById('progressPercent');//=====CONTROL BUTTONS=====this.startBtn=document.getElementById('startBtn');this.pauseBtn=document.getElementById('pauseBtn');this.resetBtn=document.getElementById('resetBtn');//=====MODAL ELEMENTS=====this.gameOverModal=document.getElementById('gameOverModal');this.playAgainBtn=document.getElementById('playAgainBtn');this.closeModal=document.getElementById('closeModal');// Initialize the game this.init();}//=====INITIALIZATION=====init(){this.bindEvents();this.createOceanElements();this.updateUI();}bindEvents(){this.startBtn.addEventListener('click',()=> this.startGame());this.pauseBtn.addEventListener('click',()=> this.togglePause());this.resetBtn.addEventListener('click',()=> this.resetGame());this.playAgainBtn.addEventListener('click',()=> this.restartGame());this.closeModal.addEventListener('click',()=> this.closeGameOverModal());// Theme toggle functionality const themeToggle=document.getElementById('themeToggle');if(themeToggle){themeToggle.addEventListener('click',()=> this.toggleTheme());}// Game area click handling this.gameArea.addEventListener('click',(e)=> this.handleGameClick(e));}createOceanElements(){// Create coral reefs and sea floor decorations for(let i=0;i < 5;i++){const coral=document.createElement('div');coral.className='coral-reef';coral.style.left=`${10+i * 18}%`;coral.style.bottom=`${20+Math.random()* 30}px`;coral.style.transform=`scale(${0.8+Math.random()* 0.4})`;this.gameArea.appendChild(coral);}}//=====GAME CONTROL METHODS=====startGame(){if(this.gameActive)return;this.gameActive=true;this.gamePaused=false;this.startBtn.disabled=true;this.pauseBtn.disabled=false;this.resetBtn.disabled=false;this.spawnTrash();this.spawnSeaCreatures();this.gameLoop();this.showNotification('Ocean cleanup mission started!','success');}togglePause(){if(!this.gameActive)return;this.gamePaused=!this.gamePaused;this.pauseBtn.innerHTML=this.gamePaused ? '<i class="fas fa-play"></i> Resume Game' : '<i class="fas fa-pause"></i> Pause Game';if(this.gamePaused){this.showNotification('Game paused','info');}else{this.showNotification('Game resumed','info');}}resetGame(){this.gameActive=false;this.gamePaused=false;this.score=0;this.lives=3;this.level=1;this.cleaned=0;this.levelProgress=0;this.totalClicks=0;this.correctClicks=0;this.clearGameElements();this.updateUI();this.startBtn.disabled=false;this.pauseBtn.disabled=true;this.resetBtn.disabled=true;this.showNotification('Game reset','info');}restartGame(){this.closeGameOverModal();this.resetGame();setTimeout(()=> this.startGame(),500);}closeGameOverModal(){this.gameOverModal.classList.remove('active');}//=====GAME LOOP=====gameLoop(){if(!this.gameActive || this.gamePaused)return;// Spawn new trash periodically(increases with level)if(Math.random()< 0.02+(this.level * 0.005)){this.spawnTrash();}// Spawn power-ups occasionally if(Math.random()< 0.005){this.spawnPowerUp();}// Update all game elements this.updateTrashItems();this.updateSeaCreatures();this.updatePowerUps();// Check level progression this.checkLevelProgress();requestAnimationFrame(()=> this.gameLoop());}//=====SPAWNING METHODS=====spawnTrash(){const trashTypes=['plastic','bottle','bag','can','wrapper'];const trashType=trashTypes[Math.floor(Math.random()* trashTypes.length)];const trash=document.createElement('div');trash.className=`trash-item ${trashType}`;trash.dataset.type=trashType;// Random position within game area const x=Math.random()*(this.gameArea.offsetWidth-40);const y=Math.random()*(this.gameArea.offsetHeight-140)+20;trash.style.left=`${x}px`;trash.style.top=`${y}px`;// Add click handler trash.addEventListener('click',(e)=>{e.stopPropagation();this.collectTrash(trash);});this.gameArea.appendChild(trash);this.trashItems.push(trash);}spawnSeaCreatures(){const creatureTypes=['fish','turtle','dolphin'];const creatureType=creatureTypes[Math.floor(Math.random()* creatureTypes.length)];const creature=document.createElement('div');creature.className=`sea-creature ${creatureType}`;// Start from left or right randomly const startFromLeft=Math.random()> 0.5;creature.style.left=startFromLeft ? '-50px' : `${this.gameArea.offsetWidth}px`;creature.style.top=`${Math.random()*(this.gameArea.offsetHeight-100)+50}px`;// Set animation direction creature.style.animationDirection=startFromLeft ? 'normal' : 'reverse';this.gameArea.appendChild(creature);this.seaCreatures.push(creature);// Remove after animation completes setTimeout(()=>{if(creature.parentNode){creature.remove();this.seaCreatures=this.seaCreatures.filter(c=> c !==creature);}},4000);}spawnPowerUp(){const powerUp=document.createElement('div');powerUp.className='power-up';const x=Math.random()*(this.gameArea.offsetWidth-30);const y=Math.random()*(this.gameArea.offsetHeight-130)+20;powerUp.style.left=`${x}px`;powerUp.style.top=`${y}px`;powerUp.addEventListener('click',(e)=>{e.stopPropagation();this.collectPowerUp(powerUp);});this.gameArea.appendChild(powerUp);this.powerUps.push(powerUp);}//=====COLLECTION METHODS=====collectTrash(trash){if(!this.gameActive || this.gamePaused)return;this.score+=10 * this.level;this.cleaned++;this.correctClicks++;this.totalClicks++;// Remove trash from DOM and array trash.remove();this.trashItems=this.trashItems.filter(t=> t !==trash);this.updateUI();this.showFloatingText('+10',trash.style.left,trash.style.top,'success');// Check for level up(every 15 items cleaned)if(this.cleaned % 15===0){this.levelUp();}}collectPowerUp(powerUp){if(!this.gameActive || this.gamePaused)return;const powerUpTypes=['speed','points','shield'];const type=powerUpTypes[Math.floor(Math.random()* powerUpTypes.length)];this.activatePowerUp(type);powerUp.remove();this.powerUps=this.powerUps.filter(p=> p !==powerUp);this.showFloatingText('Power Up!',powerUp.style.left,powerUp.style.top,'power');}activatePowerUp(type){const powerUpElement=document.createElement('div');powerUpElement.className='power-up-item';powerUpElement.innerHTML=`<i class="fas fa-${type==='speed' ? 'bolt' : type==='points' ? 'star' : 'shield'}"></i> ${type}`;document.getElementById('activePowerUps').appendChild(powerUpElement);// Remove power-up effect after 10 seconds setTimeout(()=>{if(powerUpElement.parentNode){powerUpElement.remove();}},10000);}//=====GAME INTERACTION=====handleGameClick(e){if(!this.gameActive || this.gamePaused)return;this.totalClicks++;// Check if clicked on sea creature(penalty)const clickedCreature=e.target.closest('.sea-creature');if(clickedCreature){this.loseLife();this.showFloatingText('-1 Life',e.clientX-this.gameArea.offsetLeft+'px',e.clientY-this.gameArea.offsetTop+'px','error');return;}// Missed click(affects accuracy)this.updateUI();}loseLife(){this.lives--;this.updateUI();if(this.lives <=0){this.gameOver();}else{this.showNotification(`Lives remaining: ${this.lives}`,'warning');}}//=====LEVEL PROGRESSION=====levelUp(){this.level++;this.showNotification(`Level ${this.level}reached!`,'success');// Bonus points for leveling up this.score+=100 * this.level;this.updateUI();}checkLevelProgress(){const targetCleaned=this.level * 15;this.levelProgress=(this.cleaned % 15)/ 15 * 100;this.updateUI();}//=====ELEMENT UPDATES=====updateTrashItems(){// Remove trash that has been on screen too long this.trashItems=this.trashItems.filter(trash=>{if(trash.dataset.spawnTime && Date.now()-trash.dataset.spawnTime > 10000){trash.remove();return false;}return true;});}updateSeaCreatures(){// Sea creatures are handled by CSS animations}updatePowerUps(){// Remove expired power-ups this.powerUps=this.powerUps.filter(powerUp=>{if(powerUp.dataset.spawnTime && Date.now()-powerUp.dataset.spawnTime > 8000){powerUp.remove();return false;}return true;});}clearGameElements(){this.trashItems.forEach(trash=> trash.remove());this.seaCreatures.forEach(creature=> creature.remove());this.powerUps.forEach(powerUp=> powerUp.remove());this.trashItems=[];this.seaCreatures=[];this.powerUps=[];}//=====UI MANAGEMENT=====updateUI(){this.scoreElement.textContent=this.score;this.livesElement.textContent='❤️'.repeat(this.lives);this.levelElement.textContent=this.level;this.cleanedElement.textContent=this.cleaned;this.levelProgressElement.style.width=`${this.levelProgress}%`;this.progressPercentElement.textContent=`${Math.round(this.levelProgress)}%`;this.accuracy=this.totalClicks > 0 ? Math.round((this.correctClicks / this.totalClicks)* 100): 0;}//=====GAME END=====gameOver(){this.gameActive=false;this.showGameOverModal();this.showNotification('Mission complete!','success');}showGameOverModal(){document.getElementById('finalScore').textContent=this.score;document.getElementById('finalCleaned').textContent=this.cleaned;document.getElementById('finalLevel').textContent=this.level;document.getElementById('finalAccuracy').textContent=`${this.accuracy}%`;let achievement='';if(this.score >=1000){achievement='🏆 Ocean Hero! You cleaned up a massive amount of pollution!';}else if(this.score >=500){achievement='🐚 Cleanup Champion! Great job protecting marine life!';}else if(this.score >=200){achievement='🐠 Marine Guardian! You made a positive impact!';}else{achievement='🌱 Eco Warrior! Every cleanup counts!';}document.getElementById('achievementMessage').textContent=achievement;this.gameOverModal.classList.add('active');}//=====THEME MANAGEMENT=====toggleTheme(){const body=document.body;const currentTheme=body.getAttribute('data-theme');const newTheme=currentTheme==='dark' ? 'light' : 'dark';body.setAttribute('data-theme',newTheme);const themeBtn=document.getElementById('themeToggle');themeBtn.innerHTML=newTheme==='dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';}//=====VISUAL FEEDBACK=====showFloatingText(text,x,y,type){const floatingText=document.createElement('div');floatingText.className=`floating-text ${type}`;floatingText.textContent=text;floatingText.style.left=x;floatingText.style.top=y;this.gameArea.appendChild(floatingText);setTimeout(()=>{if(floatingText.parentNode){floatingText.remove();}},1000);}showNotification(message,type){// Create notification element const notification=document.createElement('div');notification.className=`notification ${type}`;notification.innerHTML=` <i class="fas fa-${type==='success' ? 'check-circle' : type==='error' ? 'exclamation-circle' : type==='warning' ? 'exclamation-triangle' : 'info-circle'}"></i> ${message}`;// Style the notification Object.assign(notification.style,{position: 'fixed',top: '20px',right: '20px',background: type==='success' ? '#4caf50' : type==='error' ? '#f44336' : type==='warning' ? '#ff9800' : '#2196f3',color: 'white',padding: '15px 20px',borderRadius: '25px',boxShadow: '0 4px 15px rgba(0,0,0,0.2)',zIndex: '1000',fontWeight: '600',maxWidth: '300px',wordWrap: 'break-word'});document.body.appendChild(notification);// Animate out after 2 seconds setTimeout(()=>{notification.style.opacity='0';notification.style.transform='translateX(100%)';notification.style.transition='all 0.5s ease';setTimeout(()=>{notification.remove();},500);},2000);}}//=====GAME INITIALIZATION=====document.addEventListener('DOMContentLoaded',()=>{new OceanCleanupGame();console.log('Ocean Cleanup Challenge initialized!');});